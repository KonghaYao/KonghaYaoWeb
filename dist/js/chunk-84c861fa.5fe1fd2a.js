(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84c861fa"],{"13d5":function(e,t,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),o=a("2d00"),l=a("605d"),s=r("reduce"),c=!l&&o>79&&o<83;n({target:"Array",proto:!0,forced:!s||c},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"2ef1":function(e,t,a){"use strict";a("72d7")},"31ae":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"sunchart",staticClass:"echarts",staticStyle:{width:"800px",height:"500px",margin:"0 auto"}})},i=[],r=a("3835"),o=a("1da1"),l=(a("96cf"),a("d3b7"),a("07ac"),a("13d5"),a("4fad"),a("d81d"),a("1984")),s=a("22b4"),c=a("1be7"),u=a("9394"),h=a("ff32"),g=a("2da7"),d=a("f3bb"),f=a("3842"),p=a("f934"),b=a("6d8b"),m=2*Math.PI,v=Math.PI/180;function y(e,t){return p["d"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function w(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),i=y(e,a),r=e.get("center"),o=e.get("radius");b["r"](o)||(o=[0,o]),b["r"](r)||(r=[r,r]);var l=Object(f["n"])(i.width,a.getWidth()),s=Object(f["n"])(i.height,a.getHeight()),c=Math.min(l,s),u=Object(f["n"])(r[0],l)+i.x,h=Object(f["n"])(r[1],s)+i.y,g=Object(f["n"])(o[0],c/2),d=Object(f["n"])(o[1],c/2),p=-e.get("startAngle")*v,w=e.get("minAngle")*v,x=0;t.each(n,(function(e){!isNaN(e)&&x++}));var O=t.getSum(n),j=Math.PI/(O||x)*2,A=e.get("clockwise"),S=e.get("roseType"),M=e.get("stillShowZeroSum"),D=t.getDataExtent(n);D[0]=0;var L=m,T=0,N=p,I=A?1:-1;if(t.setLayout({viewRect:i,r:d}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:u,cy:h,r0:g,r:S?NaN:d});else{n="area"!==S?0===O&&M?j:e*j:m/x,n<w?(n=w,L-=w):T+=e;var i=N+I*n;t.setItemLayout(a,{angle:n,startAngle:N,endAngle:i,clockwise:A,cx:u,cy:h,r0:g,r:S?Object(f["j"])(e,D,[g,d]):d}),N=i}})),L<m&&x)if(L<=.001){var P=m/x;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=P,n.startAngle=p+I*a*P,n.endAngle=p+I*(a+1)*P}}))}else j=L/T,N=p,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===w?w:e*j;n.startAngle=N,n.endAngle=N+I*i,N+=I*i}}))}))}var x=a("d3f4"),O=a("7fae"),j=a("d498"),A=a("76a5"),S=a("2306"),M=a("4aa2"),D=a("2dc5"),L=a("7d6c"),T=a("e887"),N=a("dce8"),I=a("89b6"),P=a("2355"),_=Math.PI/180;function C(e,t,a,n,i,r,o,l,s,c){if(!(e.length<2)){for(var u=e.length,h=0;h<u;h++)if("outer"===e[h].position&&"labelLine"===e[h].labelAlignTo){var g=e[h].label.x-c;e[h].linePoints[1][0]+=g,e[h].label.x=c}Object(P["d"])(e,s,s+o)&&f(e)}function d(e){for(var r=e.rB,o=r*r,l=0;l<e.list.length;l++){var s=e.list[l],c=Math.abs(s.label.y-a),u=n+s.len,h=u*u,g=Math.sqrt((1-Math.abs(c*c/o))*h);s.label.x=t+(g+s.len2)*i}}function f(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],c=s.label.y>a?o:r,u=Math.abs(s.label.y-a);if(u>c.maxY){var h=s.label.x-t-s.len2*i,g=n+s.len,f=Math.abs(h)<g?Math.sqrt(u*u/(1-h*h/g/g)):g;c.rB=f,c.maxY=u}c.list.push(s)}d(r),d(o)}}function E(e,t,a,n,i,r,o,l){for(var s=[],c=[],u=Number.MAX_VALUE,h=-Number.MAX_VALUE,g=0;g<e.length;g++){var d=e[g].label;k(e[g])||(d.x<t?(u=Math.min(u,d.x),s.push(e[g])):(h=Math.max(h,d.x),c.push(e[g])))}C(c,t,a,n,1,i,r,o,l,h),C(s,t,a,n,-1,i,r,o,l,u);for(g=0;g<e.length;g++){var f=e[g];d=f.label;if(!k(f)){var p=f.linePoints;if(p){var b="edge"===f.labelAlignTo,m=f.rect.width,v=void 0;v=b?d.x<t?p[2][0]-f.labelDistance-o-f.edgeDistance:o+i-f.edgeDistance-p[2][0]-f.labelDistance:d.x<t?d.x-o-f.bleedMargin:o+i-d.x-f.bleedMargin,v<f.rect.width&&(f.label.style.width=v,"edge"===f.labelAlignTo&&(m=v));var y=p[1][0]-p[2][0];b?d.x<t?p[2][0]=o+f.edgeDistance+m+f.labelDistance:p[2][0]=o+i-f.edgeDistance-m-f.labelDistance:(d.x<t?p[2][0]=d.x+f.labelDistance:p[2][0]=d.x-f.labelDistance,p[1][0]=p[2][0]+y),p[1][1]=p[2][1]=d.y}}}}function k(e){return"center"===e.position}function R(e){var t,a,n=e.getData(),i=[],r=!1,o=(e.get("minShowLabelAngle")||0)*_,l=n.getLayout("viewRect"),s=n.getLayout("r"),c=l.width,u=l.x,h=l.y,g=l.height;function d(e){e.ignore=!0}function p(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}n.each((function(e){var l=n.getItemGraphicEl(e),h=l.shape,g=l.getTextContent(),m=l.getTextGuideLine(),v=n.getItemModel(e),y=v.getModel("label"),w=y.get("position")||v.get(["emphasis","label","position"]),x=y.get("distanceToLabelLine"),O=y.get("alignTo"),j=Object(f["n"])(y.get("edgeDistance"),c),A=y.get("bleedMargin"),S=v.getModel("labelLine"),M=S.get("length");M=Object(f["n"])(M,c);var D=S.get("length2");if(D=Object(f["n"])(D,c),Math.abs(h.endAngle-h.startAngle)<o)return Object(b["j"])(g.states,d),void(g.ignore=!0);if(p(g)){var L,T,I,P,_=(h.startAngle+h.endAngle)/2,C=Math.cos(_),E=Math.sin(_);t=h.cx,a=h.cy;var k,R="inside"===w||"inner"===w;if("center"===w)L=h.cx,T=h.cy,P="center";else{var G=(R?(h.r+h.r0)/2*C:h.r*C)+t,V=(R?(h.r+h.r0)/2*E:h.r*E)+a;if(L=G+3*C,T=V+3*E,!R){var Y=G+C*(M+s-h.r),z=V+E*(M+s-h.r),W=Y+(C<0?-1:1)*D,$=z;L="edge"===O?C<0?u+j:u+c-j:W+(C<0?-x:x),T=$,I=[[G,V],[Y,z],[W,$]]}P=R?"center":"edge"===O?C>0?"right":"left":C>0?"left":"right"}var U=y.get("rotate");if(k="number"===typeof U?U*(Math.PI/180):U?C<0?-_+Math.PI:-_:0,r=!!k,g.x=L,g.y=T,g.rotation=k,g.setStyle({verticalAlign:"middle"}),R){g.setStyle({align:P});var B=g.states.select;B&&(B.x+=g.x,B.y+=g.y)}else{var q=g.getBoundingRect().clone();q.applyTransform(g.getComputedTransform());var F=(g.style.margin||0)+2.1;q.y-=F/2,q.height+=F,i.push({label:g,labelLine:m,position:w,len:M,len2:D,minTurnAngle:S.get("minTurnAngle"),maxSurfaceAngle:S.get("maxSurfaceAngle"),surfaceNormal:new N["a"](C,E),linePoints:I,textAlign:P,labelDistance:x,labelAlignTo:O,edgeDistance:j,bleedMargin:A,rect:q})}l.setTextConfig({inside:R})}})),!r&&e.get("avoidLabelOverlap")&&E(i,t,a,s,c,g,u,h);for(var m=0;m<i.length;m++){var v=i[m],y=v.label,w=v.labelLine,x=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:v.textAlign}),x&&(Object(b["j"])(y.states,d),y.ignore=!0);var O=y.states.select;O&&(O.x+=y.x,O.y+=y.y)}if(w){var j=v.linePoints;x||!j?(Object(b["j"])(w.states,d),w.ignore=!0):(Object(I["c"])(j,v.minTurnAngle),Object(I["b"])(j,v.surfaceNormal,v.maxSurfaceAngle),w.setShape({points:j}),y.__hostTarget.textGuideLineConfig={anchor:new N["a"](j[0][0],j[0][1])})}}}var G=a("7837"),V=a("d32f"),Y=function(e){function t(t,a,n){var i=e.call(this)||this;i.z2=2;var r=new j["a"],o=new A["a"];return i.setTextGuideLine(r),i.setTextContent(o),i.updateData(t,a,n,!0),i}return Object(O["b"])(t,e),t.prototype.updateData=function(e,t,a,n){var i=this,r=e.hostModel,o=e.getItemModel(t),l=o.getModel("emphasis"),s=e.getItemLayout(t),c=Object(b["l"])(Object(V["a"])(o.getModel("itemStyle"),s)||{},s);if(n){i.setShape(c);var u=r.getShallow("animationType");"scale"===u?(i.shape.r=s.r0,S["initProps"](i,{shape:{r:s.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),S["initProps"](i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},r,t)):(i.shape.endAngle=s.startAngle,S["updateProps"](i,{shape:{endAngle:s.endAngle}},r,t))}else S["updateProps"](i,{shape:c},r,t);i.useStyle(e.getItemVisual(t,"style")),Object(L["z"])(i,o);var h=(s.startAngle+s.endAngle)/2,g=r.get("selectedOffset"),d=Math.cos(h)*g,f=Math.sin(h)*g,p=o.getShallow("cursor");p&&i.attr("cursor",p),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=Object(O["a"])({r:s.r+(l.get("scale")&&l.get("scaleSize")||0)},Object(V["a"])(l.getModel("itemStyle"),s)),Object(b["l"])(i.ensureState("select"),{x:d,y:f,shape:Object(V["a"])(o.getModel(["select","itemStyle"]),s)}),Object(b["l"])(i.ensureState("blur"),{shape:Object(V["a"])(o.getModel(["blur","itemStyle"]),s)});var m=i.getTextGuideLine(),v=i.getTextContent();m&&Object(b["l"])(m.ensureState("select"),{x:d,y:f}),Object(b["l"])(v.ensureState("select"),{x:d,y:f}),Object(L["j"])(this,l.get("focus"),l.get("blurScope"))},t.prototype._updateLabel=function(e,t,a){var n,i=this,r=t.getItemModel(a),o=r.getModel("labelLine"),l=t.getItemVisual(a,"style"),s=l&&l.fill,c=l&&l.opacity;Object(G["f"])(i,Object(G["d"])(r),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:c,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var h=e.get(["label","position"]);"outside"===h||"outer"===h?Object(I["d"])(this,Object(I["a"])(r),{stroke:s,opacity:Object(b["M"])(o.get(["lineStyle","opacity"]),c,1)}):null===(n=i.getTextGuideLine())||void 0===n||n.hide()},t}(M["a"]),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Object(O["b"])(t,e),t.prototype.init=function(){var e=new D["a"];this._sectorGroup=e},t.prototype.render=function(e,t,a,n){var i,r=e.getData(),o=this._data,l=this.group;if(!o&&r.count()>0){for(var s=r.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<r.count();++c)s=r.getItemLayout(c);s&&(i=s.startAngle)}r.diff(o).add((function(e){var t=new Y(r,e,i);r.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),l.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);S["removeElementWithFadeOut"](a,e,t)})).execute(),R(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="pie",t}(T["a"]),W=z,$=a("b1d4"),U=a("6179");function B(e,t,a){t=Object(b["r"])(t)&&{coordDimensions:t}||Object(b["l"])({},t);var n=e.getSource(),i=Object($["a"])(n,t),r=new U["a"](i,e);return r.initData(n,a),r}var q=a("e0d3"),F=a("0f99"),H=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},e}(),J=H,X=a("4f85"),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useColorPaletteOnData=!0,t}return Object(O["b"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new J(b["c"](this.getData,this),b["c"](this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return B(this,{coordDimensions:["value"],encodeDefaulter:b["h"](F["d"],this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=e.prototype.getDataParams.call(this,t),i=[];return a.each(a.mapDimension("value"),(function(e){i.push(e)})),n.percent=Object(f["c"])(i,t,a.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},t.prototype._defaultLabelLine=function(e){q["e"](e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(X["a"]),K=Z;function Q(e){e.registerChartView(W),e.registerSeriesModel(K),Object(d["a"])("pie",e.registerAction),e.registerLayout(Object(b["h"])(w,"pie")),e.registerProcessor(Object(x["a"])("pie"))}var ee=a("97ac"),te={props:["Year","Medal","Season"],mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s["a"]([u["a"],h["a"],g["a"],Q,ee["a"]]),t.next=3,fetch("./每年奖牌趋势.json").then((function(e){return e.json()}));case 3:e.dataset=t.sent,e.myChart=c["b"](e.$refs.sunchart),e.reDraw();case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{show:!0,dataset:{},myChart:{},rendered:!1,option:{legend:{top:"5%",left:"center"},tooltip:{trigger:"item",formatter:"<b>{b}</b><br> {c} 枚 | 占比 {d} %"},title:{text:"",top:"57%",left:"center"},series:[]}}},watch:{$route:function(){try{this.Medal=this.$route.params.Medal,this.Year=this.$route.params.Year,this.Season=this.$route.params.Season,this.show=!0,this.reDraw()}catch(e){this.show=!1}}},methods:{sort:function(e){var t=Object.values(e),a=1.3*Math.floor(t.reduce((function(e,t){return e+t}),0)/t.length);return Object.entries(e).reduce((function(e,t){var n=Object(r["a"])(t,2),i=n[0],o=n[1];return o>a?e.push({name:i,value:o}):e[0].value+=o,e}),[{name:"其他国家",value:0}])},reDraw:function(){console.log(this.Season,this.Year,this.Medal);var e,t=this.dataset[this.Season][this.Year][this.Medal];switch(this.Medal){case"Gold":e="金牌";break;case"Silver":e="银牌";break;case"Bronze":e="铜牌";break}this.option.title.text=this.Year+e;var a=this;this.option.series=[t].map((function(e,t){return{type:"pie",radius:["40%","70%"],center:["50%","60%"],itemStyle:{borderRadius:8},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},data:a.sort(e)}})),this.myChart.setOption(this.option),console.log(this.option.series),Object(l["a"])(this.$refs.sunchart,"fadeIn")}}},ae=te,ne=(a("2ef1"),a("2877")),ie=Object(ne["a"])(ae,n,i,!1,null,"a24fe34a",null);t["default"]=ie.exports},3835:function(e,t,a){"use strict";function n(e){if(Array.isArray(e))return e}a.d(t,"a",(function(){return l}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)if(a.push(o.value),t&&a.length===t)break}catch(s){i=!0,r=s}finally{try{n||null==l["return"]||l["return"]()}finally{if(i)throw r}}return a}}var r=a("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return n(e)||i(e,t)||Object(r["a"])(e,t)||o()}},"4fad":function(e,t,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"72d7":function(e,t,a){},d32f:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("6d8b"),i=a("e86a");function r(e,t){var a=e.get("borderRadius");return null==a?null:(Object(n["r"])(a)||(a=[a,a]),{innerCornerRadius:Object(i["h"])(a[0],t.r0),cornerRadius:Object(i["h"])(a[1],t.r)})}},d3f4:function(e,t,a){"use strict";function n(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}}a.d(t,"a",(function(){return n}))},d58f:function(e,t,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),o=a("50c4"),l=function(e){return function(t,a,l,s){n(a);var c=i(t),u=r(c),h=o(c.length),g=e?h-1:0,d=e?-1:1;if(l<2)while(1){if(g in u){s=u[g],g+=d;break}if(g+=d,e?g<0:h<=g)throw TypeError("Reduce of empty array with no initial value")}for(;e?g>=0:h>g;g+=d)g in u&&(s=a(s,u[g],g,c));return s}};e.exports={left:l(!1),right:l(!0)}}}]);
//# sourceMappingURL=chunk-84c861fa.5fe1fd2a.js.map