{"version":3,"sources":["webpack:///./src/components/中国奖牌旭日图.vue?cb3a","webpack:///./node_modules/echarts/lib/chart/sunburst/SunburstPiece.js","webpack:///./node_modules/echarts/lib/chart/helper/treeHelper.js","webpack:///./node_modules/echarts/lib/chart/sunburst/sunburstAction.js","webpack:///./node_modules/echarts/lib/chart/sunburst/SunburstView.js","webpack:///./node_modules/echarts/lib/data/helper/linkList.js","webpack:///./node_modules/echarts/lib/data/Tree.js","webpack:///./node_modules/echarts/lib/chart/helper/enableAriaDecalForTree.js","webpack:///./node_modules/echarts/lib/chart/sunburst/SunburstSeries.js","webpack:///./node_modules/echarts/lib/chart/sunburst/sunburstLayout.js","webpack:///./node_modules/echarts/lib/chart/sunburst/sunburstVisual.js","webpack:///./node_modules/echarts/lib/chart/sunburst/install.js","webpack:///src/components/中国奖牌旭日图.vue","webpack:///./src/components/中国奖牌旭日图.vue?88dc","webpack:///./src/components/中国奖牌旭日图.vue","webpack:///./src/components/中国奖牌旭日图.vue?1c4a"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","ref","staticStyle","staticRenderFns","_v","DEFAULT_SECTOR_Z","DEFAULT_TEXT_Z","_super","SunburstPiece","node","seriesModel","ecModel","api","_this","call","z2","textConfig","inside","seriesIndex","text","silent","getModel","get","setTextContent","updateData","prototype","firstCreate","piece","_seriesModel","_ecModel","sector","dataIndex","itemModel","emphasisModel","layout","getLayout","sectorShape","label","normalStyle","getVisual","lineJoin","decal","cornerRadius","stateName","state","ensureState","itemStyleModel","style","getItemStyle","shape","setShape","r","r0","graphic","useStyle","_updateLabel","cursorStyle","getShallow","attr","focus","focusDataIndices","getAncestorsIndices","getDescendantIndices","normalLabelModel","angle","endAngle","startAngle","midAngle","dx","Math","cos","dy","sin","getTextContent","labelMinAngle","PI","isNormalShown","abs","getLabelAttr","model","name","stateAttr","ignore","labelStateModel","isNormal","getFormattedLabel","isShown","labelPosition","sectorState","states","labelColor","fill","outsideFill","labelPadding","textAlign","align","verticalAlign","x","cx","y","cy","rotateType","rotate","rotation","dirtyStyle","retrieveTargetInfo","payload","validPayloadTypes","type","root","getData","tree","targetNode","getNodeById","contains","targetNodeId","getPathToRoot","path","parentNode","push","reverse","aboveViewRoot","viewRoot","viewPath","wrapTreePathInfo","treePathInfo","nodeDataIndex","value","getRawValue","ROOT_TO_NODE_ACTION","HIGHLIGHT_ACTION","UNHIGHLIGHT_ACTION","installSunburstAction","registers","registerAction","update","handleRootToNode","index","targetInfo","originViewRoot","getViewRoot","direction","resetViewRoot","eachComponent","mainType","subType","query","handleHighlight","dispatchAction","SunburstView","apply","arguments","self","data","virtualRoot","newRoot","group","renderLabelForZeroData","newChildren","eachNode","oldChildren","_oldChildren","dualTravel","getKey","getId","processNode","newIdx","oldIdx","newNode","oldNode","doRenderNode","length","DataDiffer","add","remove","execute","getValue","setItemGraphicEl","removeNode","renderRollUp","depth","virtualPiece","off","on","e","_rootToNode","_initEvents","targetFound","target","nodeClick","link","linkTarget","from","uid","seriesId","id","containPoint","point","treeRoot","itemLayout","getItemLayout","radius","sqrt","Chart","inner","linkList","opt","mainData","datas","main","datasAttr","linkAll","TRANSFERABLE_METHODS","methodName","wrapMethod","transferInjection","cloneShallowInjection","CHANGABLE_METHODS","changeInjection","dataType","res","isMainData","linkSingle","struct","cloneShallow","getLinkedData","getLinkedDataAll","structAttr","TreeNode","hostTree","height","children","viewChildren","isExpand","isRemoved","options","cb","context","order","suppressVisitSub","i","updateDepthAndHeight","child","len","getAncestors","includeSelf","ancestors","indices","currNode","childNode","dimension","getDimension","setLayout","merge","setItemLayout","getItemModel","getLevelModel","levelModels","setVisual","key","setItemVisual","getItemVisual","getRawIndex","isAncestorOf","parent","isDescendantOf","Tree","hostModel","_nodes","getNodeByDataIndex","rawIndex","nodes","count","clearLayouts","clearItemLayouts","createTree","dataRoot","beforeLink","listData","dimMax","buildHierarchy","dataNode","max","addChild","dimensionsInfo","createDimensions","coordDimensions","dimensionsCount","list","List","initData","enableAriaDecalForTree","decalPaletteScope","current","SunburstSeriesModel","ignoreStyleOnData","getInitialData","option","completeTreeValue","levels","levelDefine","Model","nodeData","idx","levelModel","parentModel","optionUpdated","getDataParams","params","_viewRoot","getRawData","enableAriaDecal","defaultOption","zlevel","z","center","clockwise","minAngle","stillShowZeroSum","show","opacity","position","distance","itemStyle","borderWidth","borderColor","borderType","shadowBlur","shadowColor","shadowOffsetX","shadowOffsetY","emphasis","blur","animationType","animationDuration","animationDurationUpdate","sort","Series","sum","childValue","thisValue","isNaN","SunburstSeries","RADIAN","sunburstLayout","seriesType","eachSeriesByType","width","getWidth","getHeight","size","min","rootDepth","initChildren","validDataCount","unitRadian","renderRollupNode","rPerLevel","dir","renderNode","rStart","rEnd","siblingAngle_1","sortOrder","sortTargets","a","b","isAsc_1","diff","sunburstVisual","paletteScope","pickColor","treeHeight","color","getColorFromPalette","existsStyle","ensureUniqueItemVisual","registerChartView","registerSeriesModel","registerLayout","registerProcessor","dataFilter","registerVisual","Year","map","odiv","innerHTML","event","component"],"mappings":"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","file":"js/chunk-79dd5c0e.d90d49a9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"chart\"},[_vm._m(0),_vm._m(1),_c('div',{ref:\"sunchart\",staticClass:\"echarts\",staticStyle:{\"width\":\"800px\",\"height\":\"600px\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h3',{staticClass:\"left\"},[_vm._v(\"中国奖牌旭日图\"),_c('br'),_vm._v(\"1984 - 2016\")])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"middle\"},[_c('h3',[_vm._v(\"奖牌数据中的数字\")]),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"title\",staticStyle:{\"color\":\"#9d00ff\"}},[_vm._v(\"2008 年\")]),_c('div',{staticClass:\"description\"},[_vm._v(\"2008 年北京奥运会期间，中国获得的奖牌总数和金牌数均达到历届的顶峰\")])]),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"title\",staticStyle:{\"color\":\"#040892\"}},[_c('span',{staticStyle:{\"color\":\"gold\"}},[_vm._v(\"227\")]),_vm._v(\" + \"),_c('span',{staticStyle:{\"color\":\"#959595\"}},[_vm._v(\"162\")]),_vm._v(\" + \"),_c('span',{staticStyle:{\"color\":\"#cc6161\"}},[_vm._v(\"153\")]),_vm._v(\" = \"),_c('span',{staticStyle:{\"color\":\"#ff7878\"}},[_vm._v(\"542\")])]),_c('div',{staticClass:\"description\"},[_vm._v(\"在 1984 年至 2016 年间，我国共获得 227 枚金牌, 162 枚银牌，153 枚铜牌，总奖牌数为 542枚。\")])]),_c('div',{staticClass:\"box\"},[_c('h2',{staticClass:\"title\",staticStyle:{\"display\":\"flex\",\"width\":\"100%\",\"justify-content\":\"space-around\"}},[_c('span',{staticStyle:{\"color\":\"gold\"}},[_vm._v(\"22.2 枚\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#959595\"}},[_vm._v(\"18 枚\")]),_vm._v(\" \"),_c('span',{staticStyle:{\"color\":\"#cc6161\"}},[_vm._v(\"17 枚\")])]),_c('div',{staticClass:\"description\"},[_vm._v(\"在 1984 年至 2016 年间，我国平均每一届奥运会获得约 22.2 枚金牌, 18 枚银牌,17 枚铜牌\")])])])}]\n\nexport { render, staticRenderFns }","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport * as graphic from '../../util/graphic';\nimport { enableHoverEmphasis, SPECIAL_STATES, DISPLAY_STATES } from '../../util/states';\nimport { createTextStyle } from '../../label/labelStyle';\nimport { getECData } from '../../util/innerStore';\nimport { getSectorCornerRadius } from '../helper/pieHelper';\nimport { createOrUpdatePatternFromDecal } from '../../util/decal';\nvar DEFAULT_SECTOR_Z = 2;\nvar DEFAULT_TEXT_Z = 4;\n/**\n * Sunburstce of Sunburst including Sector, Label, LabelLine\n */\n\nvar SunburstPiece =\n/** @class */\nfunction (_super) {\n  __extends(SunburstPiece, _super);\n\n  function SunburstPiece(node, seriesModel, ecModel, api) {\n    var _this = _super.call(this) || this;\n\n    _this.z2 = DEFAULT_SECTOR_Z;\n    _this.textConfig = {\n      inside: true\n    };\n    getECData(_this).seriesIndex = seriesModel.seriesIndex;\n    var text = new graphic.Text({\n      z2: DEFAULT_TEXT_Z,\n      silent: node.getModel().get(['label', 'silent'])\n    });\n\n    _this.setTextContent(text);\n\n    _this.updateData(true, node, seriesModel, ecModel, api);\n\n    return _this;\n  }\n\n  SunburstPiece.prototype.updateData = function (firstCreate, node, // state: 'emphasis' | 'normal' | 'highlight' | 'downplay',\n  seriesModel, ecModel, api) {\n    this.node = node;\n    node.piece = this;\n    seriesModel = seriesModel || this._seriesModel;\n    ecModel = ecModel || this._ecModel;\n    var sector = this;\n    getECData(sector).dataIndex = node.dataIndex;\n    var itemModel = node.getModel();\n    var emphasisModel = itemModel.getModel('emphasis');\n    var layout = node.getLayout();\n    var sectorShape = zrUtil.extend({}, layout);\n    sectorShape.label = null;\n    var normalStyle = node.getVisual('style');\n    normalStyle.lineJoin = 'bevel';\n    var decal = node.getVisual('decal');\n\n    if (decal) {\n      normalStyle.decal = createOrUpdatePatternFromDecal(decal, api);\n    }\n\n    var cornerRadius = getSectorCornerRadius(itemModel.getModel('itemStyle'), sectorShape);\n    zrUtil.extend(sectorShape, cornerRadius);\n    zrUtil.each(SPECIAL_STATES, function (stateName) {\n      var state = sector.ensureState(stateName);\n      var itemStyleModel = itemModel.getModel([stateName, 'itemStyle']);\n      state.style = itemStyleModel.getItemStyle(); // border radius\n\n      var cornerRadius = getSectorCornerRadius(itemStyleModel, sectorShape);\n\n      if (cornerRadius) {\n        state.shape = cornerRadius;\n      }\n    });\n\n    if (firstCreate) {\n      sector.setShape(sectorShape);\n      sector.shape.r = layout.r0;\n      graphic.updateProps(sector, {\n        shape: {\n          r: layout.r\n        }\n      }, seriesModel, node.dataIndex);\n    } else {\n      // Disable animation for gradient since no interpolation method\n      // is supported for gradient\n      graphic.updateProps(sector, {\n        shape: sectorShape\n      }, seriesModel);\n    }\n\n    sector.useStyle(normalStyle);\n\n    this._updateLabel(seriesModel);\n\n    var cursorStyle = itemModel.getShallow('cursor');\n    cursorStyle && sector.attr('cursor', cursorStyle);\n    this._seriesModel = seriesModel || this._seriesModel;\n    this._ecModel = ecModel || this._ecModel;\n    var focus = emphasisModel.get('focus');\n    var focusDataIndices = focus === 'ancestor' ? node.getAncestorsIndices() : focus === 'descendant' ? node.getDescendantIndices() : null;\n    enableHoverEmphasis(this, focusDataIndices || focus, emphasisModel.get('blurScope'));\n  };\n\n  SunburstPiece.prototype._updateLabel = function (seriesModel) {\n    var _this = this;\n\n    var itemModel = this.node.getModel();\n    var normalLabelModel = itemModel.getModel('label');\n    var layout = this.node.getLayout();\n    var angle = layout.endAngle - layout.startAngle;\n    var midAngle = (layout.startAngle + layout.endAngle) / 2;\n    var dx = Math.cos(midAngle);\n    var dy = Math.sin(midAngle);\n    var sector = this;\n    var label = sector.getTextContent();\n    var dataIndex = this.node.dataIndex;\n    var labelMinAngle = normalLabelModel.get('minAngle') / 180 * Math.PI;\n    var isNormalShown = normalLabelModel.get('show') && !(labelMinAngle != null && Math.abs(angle) < labelMinAngle);\n    label.ignore = !isNormalShown; // TODO use setLabelStyle\n\n    zrUtil.each(DISPLAY_STATES, function (stateName) {\n      var labelStateModel = stateName === 'normal' ? itemModel.getModel('label') : itemModel.getModel([stateName, 'label']);\n      var isNormal = stateName === 'normal';\n      var state = isNormal ? label : label.ensureState(stateName);\n      var text = seriesModel.getFormattedLabel(dataIndex, stateName);\n\n      if (isNormal) {\n        text = text || _this.node.name;\n      }\n\n      state.style = createTextStyle(labelStateModel, {}, null, stateName !== 'normal', true);\n\n      if (text) {\n        state.style.text = text;\n      } // Not displaying text when angle is too small\n\n\n      var isShown = labelStateModel.get('show');\n\n      if (isShown != null && !isNormal) {\n        state.ignore = !isShown;\n      }\n\n      var labelPosition = getLabelAttr(labelStateModel, 'position');\n      var sectorState = isNormal ? sector : sector.states[stateName];\n      var labelColor = sectorState.style.fill;\n      sectorState.textConfig = {\n        outsideFill: labelStateModel.get('color') === 'inherit' ? labelColor : null,\n        inside: labelPosition !== 'outside'\n      };\n      var r;\n      var labelPadding = getLabelAttr(labelStateModel, 'distance') || 0;\n      var textAlign = getLabelAttr(labelStateModel, 'align');\n\n      if (labelPosition === 'outside') {\n        r = layout.r + labelPadding;\n        textAlign = midAngle > Math.PI / 2 ? 'right' : 'left';\n      } else {\n        if (!textAlign || textAlign === 'center') {\n          r = (layout.r + layout.r0) / 2;\n          textAlign = 'center';\n        } else if (textAlign === 'left') {\n          r = layout.r0 + labelPadding;\n\n          if (midAngle > Math.PI / 2) {\n            textAlign = 'right';\n          }\n        } else if (textAlign === 'right') {\n          r = layout.r - labelPadding;\n\n          if (midAngle > Math.PI / 2) {\n            textAlign = 'left';\n          }\n        }\n      }\n\n      state.style.align = textAlign;\n      state.style.verticalAlign = getLabelAttr(labelStateModel, 'verticalAlign') || 'middle';\n      state.x = r * dx + layout.cx;\n      state.y = r * dy + layout.cy;\n      var rotateType = getLabelAttr(labelStateModel, 'rotate');\n      var rotate = 0;\n\n      if (rotateType === 'radial') {\n        rotate = -midAngle;\n\n        if (rotate < -Math.PI / 2) {\n          rotate += Math.PI;\n        }\n      } else if (rotateType === 'tangential') {\n        rotate = Math.PI / 2 - midAngle;\n\n        if (rotate > Math.PI / 2) {\n          rotate -= Math.PI;\n        } else if (rotate < -Math.PI / 2) {\n          rotate += Math.PI;\n        }\n      } else if (typeof rotateType === 'number') {\n        rotate = rotateType * Math.PI / 180;\n      }\n\n      state.rotation = rotate;\n    });\n\n    function getLabelAttr(model, name) {\n      var stateAttr = model.get(name);\n\n      if (stateAttr == null) {\n        return normalLabelModel.get(name);\n      }\n\n      return stateAttr;\n    }\n\n    label.dirtyStyle();\n  };\n\n  return SunburstPiece;\n}(graphic.Sector);\n\nexport default SunburstPiece;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport * as zrUtil from 'zrender/lib/core/util';\nexport function retrieveTargetInfo(payload, validPayloadTypes, seriesModel) {\n  if (payload && zrUtil.indexOf(validPayloadTypes, payload.type) >= 0) {\n    var root = seriesModel.getData().tree.root;\n    var targetNode = payload.targetNode;\n\n    if (typeof targetNode === 'string') {\n      targetNode = root.getNodeById(targetNode);\n    }\n\n    if (targetNode && root.contains(targetNode)) {\n      return {\n        node: targetNode\n      };\n    }\n\n    var targetNodeId = payload.targetNodeId;\n\n    if (targetNodeId != null && (targetNode = root.getNodeById(targetNodeId))) {\n      return {\n        node: targetNode\n      };\n    }\n  }\n} // Not includes the given node at the last item.\n\nexport function getPathToRoot(node) {\n  var path = [];\n\n  while (node) {\n    node = node.parentNode;\n    node && path.push(node);\n  }\n\n  return path.reverse();\n}\nexport function aboveViewRoot(viewRoot, node) {\n  var viewPath = getPathToRoot(viewRoot);\n  return zrUtil.indexOf(viewPath, node) >= 0;\n} // From root to the input node (the input node will be included).\n\nexport function wrapTreePathInfo(node, seriesModel) {\n  var treePathInfo = [];\n\n  while (node) {\n    var nodeDataIndex = node.dataIndex;\n    treePathInfo.push({\n      name: node.name,\n      dataIndex: nodeDataIndex,\n      value: seriesModel.getRawValue(nodeDataIndex)\n    });\n    node = node.parentNode;\n  }\n\n  treePathInfo.reverse();\n  return treePathInfo;\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nimport { deprecateReplaceLog } from '../../util/log';\nimport { retrieveTargetInfo, aboveViewRoot } from '../helper/treeHelper';\nexport var ROOT_TO_NODE_ACTION = 'sunburstRootToNode';\nvar HIGHLIGHT_ACTION = 'sunburstHighlight';\nvar UNHIGHLIGHT_ACTION = 'sunburstUnhighlight';\nexport function installSunburstAction(registers) {\n  registers.registerAction({\n    type: ROOT_TO_NODE_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel) {\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleRootToNode);\n\n    function handleRootToNode(model, index) {\n      var targetInfo = retrieveTargetInfo(payload, [ROOT_TO_NODE_ACTION], model);\n\n      if (targetInfo) {\n        var originViewRoot = model.getViewRoot();\n\n        if (originViewRoot) {\n          payload.direction = aboveViewRoot(originViewRoot, targetInfo.node) ? 'rollUp' : 'drillDown';\n        }\n\n        model.resetViewRoot(targetInfo.node);\n      }\n    }\n  });\n  registers.registerAction({\n    type: HIGHLIGHT_ACTION,\n    update: 'none'\n  }, function (payload, ecModel, api) {\n    // Clone\n    payload = extend({}, payload);\n    ecModel.eachComponent({\n      mainType: 'series',\n      subType: 'sunburst',\n      query: payload\n    }, handleHighlight);\n\n    function handleHighlight(model) {\n      var targetInfo = retrieveTargetInfo(payload, [HIGHLIGHT_ACTION], model);\n\n      if (targetInfo) {\n        payload.dataIndex = targetInfo.node.dataIndex;\n      }\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('highlight', 'sunburstHighlight');\n    } // Fast forward action\n\n\n    api.dispatchAction(extend(payload, {\n      type: 'highlight'\n    }));\n  });\n  registers.registerAction({\n    type: UNHIGHLIGHT_ACTION,\n    update: 'updateView'\n  }, function (payload, ecModel, api) {\n    payload = extend({}, payload);\n\n    if (process.env.NODE_ENV !== 'production') {\n      deprecateReplaceLog('downplay', 'sunburstUnhighlight');\n    }\n\n    api.dispatchAction(extend(payload, {\n      type: 'downplay'\n    }));\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport ChartView from '../../view/Chart';\nimport SunburstPiece from './SunburstPiece';\nimport DataDiffer from '../../data/DataDiffer';\nimport { ROOT_TO_NODE_ACTION } from './sunburstAction';\nimport { windowOpen } from '../../util/format';\n\nvar SunburstView =\n/** @class */\nfunction (_super) {\n  __extends(SunburstView, _super);\n\n  function SunburstView() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SunburstView.type;\n    return _this;\n  }\n\n  SunburstView.prototype.render = function (seriesModel, ecModel, api, // @ts-ignore\n  payload) {\n    var self = this;\n    this.seriesModel = seriesModel;\n    this.api = api;\n    this.ecModel = ecModel;\n    var data = seriesModel.getData();\n    var virtualRoot = data.tree.root;\n    var newRoot = seriesModel.getViewRoot();\n    var group = this.group;\n    var renderLabelForZeroData = seriesModel.get('renderLabelForZeroData');\n    var newChildren = [];\n    newRoot.eachNode(function (node) {\n      newChildren.push(node);\n    });\n    var oldChildren = this._oldChildren || [];\n    dualTravel(newChildren, oldChildren);\n    renderRollUp(virtualRoot, newRoot);\n\n    this._initEvents();\n\n    this._oldChildren = newChildren;\n\n    function dualTravel(newChildren, oldChildren) {\n      if (newChildren.length === 0 && oldChildren.length === 0) {\n        return;\n      }\n\n      new DataDiffer(oldChildren, newChildren, getKey, getKey).add(processNode).update(processNode).remove(zrUtil.curry(processNode, null)).execute();\n\n      function getKey(node) {\n        return node.getId();\n      }\n\n      function processNode(newIdx, oldIdx) {\n        var newNode = newIdx == null ? null : newChildren[newIdx];\n        var oldNode = oldIdx == null ? null : oldChildren[oldIdx];\n        doRenderNode(newNode, oldNode);\n      }\n    }\n\n    function doRenderNode(newNode, oldNode) {\n      if (!renderLabelForZeroData && newNode && !newNode.getValue()) {\n        // Not render data with value 0\n        newNode = null;\n      }\n\n      if (newNode !== virtualRoot && oldNode !== virtualRoot) {\n        if (oldNode && oldNode.piece) {\n          if (newNode) {\n            // Update\n            oldNode.piece.updateData(false, newNode, seriesModel, ecModel, api); // For tooltip\n\n            data.setItemGraphicEl(newNode.dataIndex, oldNode.piece);\n          } else {\n            // Remove\n            removeNode(oldNode);\n          }\n        } else if (newNode) {\n          // Add\n          var piece = new SunburstPiece(newNode, seriesModel, ecModel, api);\n          group.add(piece); // For tooltip\n\n          data.setItemGraphicEl(newNode.dataIndex, piece);\n        }\n      }\n    }\n\n    function removeNode(node) {\n      if (!node) {\n        return;\n      }\n\n      if (node.piece) {\n        group.remove(node.piece);\n        node.piece = null;\n      }\n    }\n\n    function renderRollUp(virtualRoot, viewRoot) {\n      if (viewRoot.depth > 0) {\n        // Render\n        if (self.virtualPiece) {\n          // Update\n          self.virtualPiece.updateData(false, virtualRoot, seriesModel, ecModel, api);\n        } else {\n          // Add\n          self.virtualPiece = new SunburstPiece(virtualRoot, seriesModel, ecModel, api);\n          group.add(self.virtualPiece);\n        } // TODO event scope\n\n\n        viewRoot.piece.off('click');\n        self.virtualPiece.on('click', function (e) {\n          self._rootToNode(viewRoot.parentNode);\n        });\n      } else if (self.virtualPiece) {\n        // Remove\n        group.remove(self.virtualPiece);\n        self.virtualPiece = null;\n      }\n    }\n  };\n  /**\n   * @private\n   */\n\n\n  SunburstView.prototype._initEvents = function () {\n    var _this = this;\n\n    this.group.off('click');\n    this.group.on('click', function (e) {\n      var targetFound = false;\n\n      var viewRoot = _this.seriesModel.getViewRoot();\n\n      viewRoot.eachNode(function (node) {\n        if (!targetFound && node.piece && node.piece === e.target) {\n          var nodeClick = node.getModel().get('nodeClick');\n\n          if (nodeClick === 'rootToNode') {\n            _this._rootToNode(node);\n          } else if (nodeClick === 'link') {\n            var itemModel = node.getModel();\n            var link = itemModel.get('link');\n\n            if (link) {\n              var linkTarget = itemModel.get('target', true) || '_blank';\n              windowOpen(link, linkTarget);\n            }\n          }\n\n          targetFound = true;\n        }\n      });\n    });\n  };\n  /**\n   * @private\n   */\n\n\n  SunburstView.prototype._rootToNode = function (node) {\n    if (node !== this.seriesModel.getViewRoot()) {\n      this.api.dispatchAction({\n        type: ROOT_TO_NODE_ACTION,\n        from: this.uid,\n        seriesId: this.seriesModel.id,\n        targetNode: node\n      });\n    }\n  };\n  /**\n   * @implement\n   */\n\n\n  SunburstView.prototype.containPoint = function (point, seriesModel) {\n    var treeRoot = seriesModel.getData();\n    var itemLayout = treeRoot.getItemLayout(0);\n\n    if (itemLayout) {\n      var dx = point[0] - itemLayout.cx;\n      var dy = point[1] - itemLayout.cy;\n      var radius = Math.sqrt(dx * dx + dy * dy);\n      return radius <= itemLayout.r && radius >= itemLayout.r0;\n    }\n  };\n\n  SunburstView.type = 'sunburst';\n  return SunburstView;\n}(ChartView);\n\nexport default SunburstView;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Link lists and struct (graph or tree)\n */\nimport { curry, each, assert, extend, map, keys } from 'zrender/lib/core/util';\nimport { makeInner } from '../../util/model';\nvar inner = makeInner();\n\nfunction linkList(opt) {\n  var mainData = opt.mainData;\n  var datas = opt.datas;\n\n  if (!datas) {\n    datas = {\n      main: mainData\n    };\n    opt.datasAttr = {\n      main: 'data'\n    };\n  }\n\n  opt.datas = opt.mainData = null;\n  linkAll(mainData, datas, opt); // Porxy data original methods.\n\n  each(datas, function (data) {\n    each(mainData.TRANSFERABLE_METHODS, function (methodName) {\n      data.wrapMethod(methodName, curry(transferInjection, opt));\n    });\n  }); // Beyond transfer, additional features should be added to `cloneShallow`.\n\n  mainData.wrapMethod('cloneShallow', curry(cloneShallowInjection, opt)); // Only mainData trigger change, because struct.update may trigger\n  // another changable methods, which may bring about dead lock.\n\n  each(mainData.CHANGABLE_METHODS, function (methodName) {\n    mainData.wrapMethod(methodName, curry(changeInjection, opt));\n  }); // Make sure datas contains mainData.\n\n  assert(datas[mainData.dataType] === mainData);\n}\n\nfunction transferInjection(opt, res) {\n  if (isMainData(this)) {\n    // Transfer datas to new main data.\n    var datas = extend({}, inner(this).datas);\n    datas[this.dataType] = res;\n    linkAll(res, datas, opt);\n  } else {\n    // Modify the reference in main data to point newData.\n    linkSingle(res, this.dataType, inner(this).mainData, opt);\n  }\n\n  return res;\n}\n\nfunction changeInjection(opt, res) {\n  opt.struct && opt.struct.update();\n  return res;\n}\n\nfunction cloneShallowInjection(opt, res) {\n  // cloneShallow, which brings about some fragilities, may be inappropriate\n  // to be exposed as an API. So for implementation simplicity we can make\n  // the restriction that cloneShallow of not-mainData should not be invoked\n  // outside, but only be invoked here.\n  each(inner(res).datas, function (data, dataType) {\n    data !== res && linkSingle(data.cloneShallow(), dataType, res, opt);\n  });\n  return res;\n}\n/**\n * Supplement method to List.\n *\n * @public\n * @param [dataType] If not specified, return mainData.\n */\n\n\nfunction getLinkedData(dataType) {\n  var mainData = inner(this).mainData;\n  return dataType == null || mainData == null ? mainData : inner(mainData).datas[dataType];\n}\n/**\n * Get list of all linked data\n */\n\n\nfunction getLinkedDataAll() {\n  var mainData = inner(this).mainData;\n  return mainData == null ? [{\n    data: mainData\n  }] : map(keys(inner(mainData).datas), function (type) {\n    return {\n      type: type,\n      data: inner(mainData).datas[type]\n    };\n  });\n}\n\nfunction isMainData(data) {\n  return inner(data).mainData === data;\n}\n\nfunction linkAll(mainData, datas, opt) {\n  inner(mainData).datas = {};\n  each(datas, function (data, dataType) {\n    linkSingle(data, dataType, mainData, opt);\n  });\n}\n\nfunction linkSingle(data, dataType, mainData, opt) {\n  inner(mainData).datas[dataType] = data;\n  inner(data).mainData = mainData;\n  data.dataType = dataType;\n\n  if (opt.struct) {\n    data[opt.structAttr] = opt.struct;\n    opt.struct[opt.datasAttr[dataType]] = data;\n  } // Supplement method.\n\n\n  data.getLinkedData = getLinkedData;\n  data.getLinkedDataAll = getLinkedDataAll;\n}\n\nexport default linkList;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Tree data structure\n */\nimport * as zrUtil from 'zrender/lib/core/util';\nimport linkList from './helper/linkList';\nimport List from './List';\nimport createDimensions from './helper/createDimensions';\nimport { convertOptionIdName } from '../util/model';\n\nvar TreeNode =\n/** @class */\nfunction () {\n  function TreeNode(name, hostTree) {\n    this.depth = 0;\n    this.height = 0;\n    /**\n     * Reference to list item.\n     * Do not persistent dataIndex outside,\n     * besause it may be changed by list.\n     * If dataIndex -1,\n     * this node is logical deleted (filtered) in list.\n     */\n\n    this.dataIndex = -1;\n    this.children = [];\n    this.viewChildren = [];\n    this.isExpand = false;\n    this.name = name || '';\n    this.hostTree = hostTree;\n  }\n  /**\n   * The node is removed.\n   */\n\n\n  TreeNode.prototype.isRemoved = function () {\n    return this.dataIndex < 0;\n  };\n\n  TreeNode.prototype.eachNode = function (options, cb, context) {\n    if (typeof options === 'function') {\n      context = cb;\n      cb = options;\n      options = null;\n    }\n\n    options = options || {};\n\n    if (zrUtil.isString(options)) {\n      options = {\n        order: options\n      };\n    }\n\n    var order = options.order || 'preorder';\n    var children = this[options.attr || 'children'];\n    var suppressVisitSub;\n    order === 'preorder' && (suppressVisitSub = cb.call(context, this));\n\n    for (var i = 0; !suppressVisitSub && i < children.length; i++) {\n      children[i].eachNode(options, cb, context);\n    }\n\n    order === 'postorder' && cb.call(context, this);\n  };\n  /**\n   * Update depth and height of this subtree.\n   */\n\n\n  TreeNode.prototype.updateDepthAndHeight = function (depth) {\n    var height = 0;\n    this.depth = depth;\n\n    for (var i = 0; i < this.children.length; i++) {\n      var child = this.children[i];\n      child.updateDepthAndHeight(depth + 1);\n\n      if (child.height > height) {\n        height = child.height;\n      }\n    }\n\n    this.height = height + 1;\n  };\n\n  TreeNode.prototype.getNodeById = function (id) {\n    if (this.getId() === id) {\n      return this;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].getNodeById(id);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n\n  TreeNode.prototype.contains = function (node) {\n    if (node === this) {\n      return true;\n    }\n\n    for (var i = 0, children = this.children, len = children.length; i < len; i++) {\n      var res = children[i].contains(node);\n\n      if (res) {\n        return res;\n      }\n    }\n  };\n  /**\n   * @param includeSelf Default false.\n   * @return order: [root, child, grandchild, ...]\n   */\n\n\n  TreeNode.prototype.getAncestors = function (includeSelf) {\n    var ancestors = [];\n    var node = includeSelf ? this : this.parentNode;\n\n    while (node) {\n      ancestors.push(node);\n      node = node.parentNode;\n    }\n\n    ancestors.reverse();\n    return ancestors;\n  };\n\n  TreeNode.prototype.getAncestorsIndices = function () {\n    var indices = [];\n    var currNode = this;\n\n    while (currNode) {\n      indices.push(currNode.dataIndex);\n      currNode = currNode.parentNode;\n    }\n\n    indices.reverse();\n    return indices;\n  };\n\n  TreeNode.prototype.getDescendantIndices = function () {\n    var indices = [];\n    this.eachNode(function (childNode) {\n      indices.push(childNode.dataIndex);\n    });\n    return indices;\n  };\n\n  TreeNode.prototype.getValue = function (dimension) {\n    var data = this.hostTree.data;\n    return data.get(data.getDimension(dimension || 'value'), this.dataIndex);\n  };\n\n  TreeNode.prototype.setLayout = function (layout, merge) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, layout, merge);\n  };\n  /**\n   * @return {Object} layout\n   */\n\n\n  TreeNode.prototype.getLayout = function () {\n    return this.hostTree.data.getItemLayout(this.dataIndex);\n  }; // @depcrecated\n  // getModel<T = unknown, S extends keyof T = keyof T>(path: S): Model<T[S]>\n\n\n  TreeNode.prototype.getModel = function (path) {\n    if (this.dataIndex < 0) {\n      return;\n    }\n\n    var hostTree = this.hostTree;\n    var itemModel = hostTree.data.getItemModel(this.dataIndex);\n    return itemModel.getModel(path);\n  }; // TODO: TYPE More specific model\n\n\n  TreeNode.prototype.getLevelModel = function () {\n    return (this.hostTree.levelModels || [])[this.depth];\n  };\n\n  TreeNode.prototype.setVisual = function (key, value) {\n    this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, key, value);\n  };\n  /**\n   * Get item visual\n   */\n\n\n  TreeNode.prototype.getVisual = function (key) {\n    return this.hostTree.data.getItemVisual(this.dataIndex, key);\n  };\n\n  TreeNode.prototype.getRawIndex = function () {\n    return this.hostTree.data.getRawIndex(this.dataIndex);\n  };\n\n  TreeNode.prototype.getId = function () {\n    return this.hostTree.data.getId(this.dataIndex);\n  };\n  /**\n   * if this is an ancestor of another node\n   *\n   * @param node another node\n   * @return if is ancestor\n   */\n\n\n  TreeNode.prototype.isAncestorOf = function (node) {\n    var parent = node.parentNode;\n\n    while (parent) {\n      if (parent === this) {\n        return true;\n      }\n\n      parent = parent.parentNode;\n    }\n\n    return false;\n  };\n  /**\n   * if this is an descendant of another node\n   *\n   * @param node another node\n   * @return if is descendant\n   */\n\n\n  TreeNode.prototype.isDescendantOf = function (node) {\n    return node !== this && node.isAncestorOf(this);\n  };\n\n  return TreeNode;\n}();\n\nexport { TreeNode };\n;\n\nvar Tree =\n/** @class */\nfunction () {\n  function Tree(hostModel) {\n    this.type = 'tree';\n    this._nodes = [];\n    this.hostModel = hostModel;\n  }\n\n  Tree.prototype.eachNode = function (options, cb, context) {\n    this.root.eachNode(options, cb, context);\n  };\n\n  Tree.prototype.getNodeByDataIndex = function (dataIndex) {\n    var rawIndex = this.data.getRawIndex(dataIndex);\n    return this._nodes[rawIndex];\n  };\n\n  Tree.prototype.getNodeById = function (name) {\n    return this.root.getNodeById(name);\n  };\n  /**\n   * Update item available by list,\n   * when list has been performed options like 'filterSelf' or 'map'.\n   */\n\n\n  Tree.prototype.update = function () {\n    var data = this.data;\n    var nodes = this._nodes;\n\n    for (var i = 0, len = nodes.length; i < len; i++) {\n      nodes[i].dataIndex = -1;\n    }\n\n    for (var i = 0, len = data.count(); i < len; i++) {\n      nodes[data.getRawIndex(i)].dataIndex = i;\n    }\n  };\n  /**\n   * Clear all layouts\n   */\n\n\n  Tree.prototype.clearLayouts = function () {\n    this.data.clearItemLayouts();\n  };\n  /**\n   * data node format:\n   * {\n   *     name: ...\n   *     value: ...\n   *     children: [\n   *         {\n   *             name: ...\n   *             value: ...\n   *             children: ...\n   *         },\n   *         ...\n   *     ]\n   * }\n   */\n\n\n  Tree.createTree = function (dataRoot, hostModel, beforeLink) {\n    var tree = new Tree(hostModel);\n    var listData = [];\n    var dimMax = 1;\n    buildHierarchy(dataRoot);\n\n    function buildHierarchy(dataNode, parentNode) {\n      var value = dataNode.value;\n      dimMax = Math.max(dimMax, zrUtil.isArray(value) ? value.length : 1);\n      listData.push(dataNode);\n      var node = new TreeNode(convertOptionIdName(dataNode.name, ''), tree);\n      parentNode ? addChild(node, parentNode) : tree.root = node;\n\n      tree._nodes.push(node);\n\n      var children = dataNode.children;\n\n      if (children) {\n        for (var i = 0; i < children.length; i++) {\n          buildHierarchy(children[i], node);\n        }\n      }\n    }\n\n    tree.root.updateDepthAndHeight(0);\n    var dimensionsInfo = createDimensions(listData, {\n      coordDimensions: ['value'],\n      dimensionsCount: dimMax\n    });\n    var list = new List(dimensionsInfo, hostModel);\n    list.initData(listData);\n    beforeLink && beforeLink(list);\n    linkList({\n      mainData: list,\n      struct: tree,\n      structAttr: 'tree'\n    });\n    tree.update();\n    return tree;\n  };\n\n  return Tree;\n}();\n/**\n * It is needed to consider the mess of 'list', 'hostModel' when creating a TreeNote,\n * so this function is not ready and not necessary to be public.\n */\n\n\nfunction addChild(child, node) {\n  var children = node.children;\n\n  if (child.parentNode === node) {\n    return;\n  }\n\n  children.push(child);\n  child.parentNode = node;\n}\n\nexport default Tree;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { getDecalFromPalette } from '../../model/mixin/palette';\nexport default function enableAriaDecalForTree(seriesModel) {\n  var data = seriesModel.getData();\n  var tree = data.tree;\n  var decalPaletteScope = {};\n  tree.eachNode(function (node) {\n    // Use decal of level 1 node\n    var current = node;\n\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n\n    var decal = getDecalFromPalette(seriesModel.ecModel, current.name || current.dataIndex + '', decalPaletteScope);\n    node.setVisual('decal', decal);\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { __extends } from \"tslib\";\nimport * as zrUtil from 'zrender/lib/core/util';\nimport SeriesModel from '../../model/Series';\nimport Tree from '../../data/Tree';\nimport { wrapTreePathInfo } from '../helper/treeHelper';\nimport Model from '../../model/Model';\nimport enableAriaDecalForTree from '../helper/enableAriaDecalForTree';\n\nvar SunburstSeriesModel =\n/** @class */\nfunction (_super) {\n  __extends(SunburstSeriesModel, _super);\n\n  function SunburstSeriesModel() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.type = SunburstSeriesModel.type;\n    _this.ignoreStyleOnData = true;\n    return _this;\n  }\n\n  SunburstSeriesModel.prototype.getInitialData = function (option, ecModel) {\n    // Create a virtual root.\n    var root = {\n      name: option.name,\n      children: option.data\n    };\n    completeTreeValue(root);\n    var levelModels = zrUtil.map(option.levels || [], function (levelDefine) {\n      return new Model(levelDefine, this, ecModel);\n    }, this); // Make sure always a new tree is created when setOption,\n    // in TreemapView, we check whether oldTree === newTree\n    // to choose mappings approach among old shapes and new shapes.\n\n    var tree = Tree.createTree(root, this, beforeLink);\n\n    function beforeLink(nodeData) {\n      nodeData.wrapMethod('getItemModel', function (model, idx) {\n        var node = tree.getNodeByDataIndex(idx);\n        var levelModel = levelModels[node.depth];\n        levelModel && (model.parentModel = levelModel);\n        return model;\n      });\n    }\n\n    return tree.data;\n  };\n\n  SunburstSeriesModel.prototype.optionUpdated = function () {\n    this.resetViewRoot();\n  };\n  /*\n   * @override\n   */\n\n\n  SunburstSeriesModel.prototype.getDataParams = function (dataIndex) {\n    var params = _super.prototype.getDataParams.apply(this, arguments);\n\n    var node = this.getData().tree.getNodeByDataIndex(dataIndex);\n    params.treePathInfo = wrapTreePathInfo(node, this);\n    return params;\n  };\n\n  SunburstSeriesModel.prototype.getViewRoot = function () {\n    return this._viewRoot;\n  };\n\n  SunburstSeriesModel.prototype.resetViewRoot = function (viewRoot) {\n    viewRoot ? this._viewRoot = viewRoot : viewRoot = this._viewRoot;\n    var root = this.getRawData().tree.root;\n\n    if (!viewRoot || viewRoot !== root && !root.contains(viewRoot)) {\n      this._viewRoot = root;\n    }\n  };\n\n  SunburstSeriesModel.prototype.enableAriaDecal = function () {\n    enableAriaDecalForTree(this);\n  };\n\n  SunburstSeriesModel.type = 'series.sunburst';\n  SunburstSeriesModel.defaultOption = {\n    zlevel: 0,\n    z: 2,\n    // 默认全局居中\n    center: ['50%', '50%'],\n    radius: [0, '75%'],\n    // 默认顺时针\n    clockwise: true,\n    startAngle: 90,\n    // 最小角度改为0\n    minAngle: 0,\n    // If still show when all data zero.\n    stillShowZeroSum: true,\n    // 'rootToNode', 'link', or false\n    nodeClick: 'rootToNode',\n    renderLabelForZeroData: false,\n    label: {\n      // could be: 'radial', 'tangential', or 'none'\n      rotate: 'radial',\n      show: true,\n      opacity: 1,\n      // 'left' is for inner side of inside, and 'right' is for outter\n      // side for inside\n      align: 'center',\n      position: 'inside',\n      distance: 5,\n      silent: true\n    },\n    itemStyle: {\n      borderWidth: 1,\n      borderColor: 'white',\n      borderType: 'solid',\n      shadowBlur: 0,\n      shadowColor: 'rgba(0, 0, 0, 0.2)',\n      shadowOffsetX: 0,\n      shadowOffsetY: 0,\n      opacity: 1\n    },\n    emphasis: {\n      focus: 'descendant'\n    },\n    blur: {\n      itemStyle: {\n        opacity: 0.2\n      },\n      label: {\n        opacity: 0.1\n      }\n    },\n    // Animation type canbe expansion, scale\n    animationType: 'expansion',\n    animationDuration: 1000,\n    animationDurationUpdate: 500,\n    data: [],\n    levels: [],\n\n    /**\n     * Sort order.\n     *\n     * Valid values: 'desc', 'asc', null, or callback function.\n     * 'desc' and 'asc' for descend and ascendant order;\n     * null for not sorting;\n     * example of callback function:\n     * function(nodeA, nodeB) {\n     *     return nodeA.getValue() - nodeB.getValue();\n     * }\n     */\n    sort: 'desc'\n  };\n  return SunburstSeriesModel;\n}(SeriesModel);\n\nfunction completeTreeValue(dataNode) {\n  // Postorder travel tree.\n  // If value of none-leaf node is not set,\n  // calculate it by suming up the value of all children.\n  var sum = 0;\n  zrUtil.each(dataNode.children, function (child) {\n    completeTreeValue(child);\n    var childValue = child.value; // TODO First value of array must be a number\n\n    zrUtil.isArray(childValue) && (childValue = childValue[0]);\n    sum += childValue;\n  });\n  var thisValue = dataNode.value;\n\n  if (zrUtil.isArray(thisValue)) {\n    thisValue = thisValue[0];\n  }\n\n  if (thisValue == null || isNaN(thisValue)) {\n    thisValue = sum;\n  } // Value should not less than 0.\n\n\n  if (thisValue < 0) {\n    thisValue = 0;\n  }\n\n  zrUtil.isArray(dataNode.value) ? dataNode.value[0] = thisValue : dataNode.value = thisValue;\n}\n\nexport default SunburstSeriesModel;","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { parsePercent } from '../../util/number';\nimport * as zrUtil from 'zrender/lib/core/util'; // let PI2 = Math.PI * 2;\n\nvar RADIAN = Math.PI / 180;\nexport default function sunburstLayout(seriesType, ecModel, api) {\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    var center = seriesModel.get('center');\n    var radius = seriesModel.get('radius');\n\n    if (!zrUtil.isArray(radius)) {\n      radius = [0, radius];\n    }\n\n    if (!zrUtil.isArray(center)) {\n      center = [center, center];\n    }\n\n    var width = api.getWidth();\n    var height = api.getHeight();\n    var size = Math.min(width, height);\n    var cx = parsePercent(center[0], width);\n    var cy = parsePercent(center[1], height);\n    var r0 = parsePercent(radius[0], size / 2);\n    var r = parsePercent(radius[1], size / 2);\n    var startAngle = -seriesModel.get('startAngle') * RADIAN;\n    var minAngle = seriesModel.get('minAngle') * RADIAN;\n    var virtualRoot = seriesModel.getData().tree.root;\n    var treeRoot = seriesModel.getViewRoot();\n    var rootDepth = treeRoot.depth;\n    var sort = seriesModel.get('sort');\n\n    if (sort != null) {\n      initChildren(treeRoot, sort);\n    }\n\n    var validDataCount = 0;\n    zrUtil.each(treeRoot.children, function (child) {\n      !isNaN(child.getValue()) && validDataCount++;\n    });\n    var sum = treeRoot.getValue(); // Sum may be 0\n\n    var unitRadian = Math.PI / (sum || validDataCount) * 2;\n    var renderRollupNode = treeRoot.depth > 0;\n    var levels = treeRoot.height - (renderRollupNode ? -1 : 1);\n    var rPerLevel = (r - r0) / (levels || 1);\n    var clockwise = seriesModel.get('clockwise');\n    var stillShowZeroSum = seriesModel.get('stillShowZeroSum'); // In the case some sector angle is smaller than minAngle\n    // let restAngle = PI2;\n    // let valueSumLargerThanMinAngle = 0;\n\n    var dir = clockwise ? 1 : -1;\n    /**\n     * Render a tree\n     * @return increased angle\n     */\n\n    var renderNode = function (node, startAngle) {\n      if (!node) {\n        return;\n      }\n\n      var endAngle = startAngle; // Render self\n\n      if (node !== virtualRoot) {\n        // Tree node is virtual, so it doesn't need to be drawn\n        var value = node.getValue();\n        var angle = sum === 0 && stillShowZeroSum ? unitRadian : value * unitRadian;\n\n        if (angle < minAngle) {\n          angle = minAngle; // restAngle -= minAngle;\n        } // else {\n        //     valueSumLargerThanMinAngle += value;\n        // }\n\n\n        endAngle = startAngle + dir * angle;\n        var depth = node.depth - rootDepth - (renderRollupNode ? -1 : 1);\n        var rStart = r0 + rPerLevel * depth;\n        var rEnd = r0 + rPerLevel * (depth + 1);\n        var itemModel = node.getModel(); // @ts-ignore. TODO this is not provided to developer yet. Rename it.\n\n        if (itemModel.get('r0') != null) {\n          // @ts-ignore\n          rStart = parsePercent(itemModel.get('r0'), size / 2);\n        } // @ts-ignore\n\n\n        if (itemModel.get('r') != null) {\n          // @ts-ignore\n          rEnd = parsePercent(itemModel.get('r'), size / 2);\n        }\n\n        node.setLayout({\n          angle: angle,\n          startAngle: startAngle,\n          endAngle: endAngle,\n          clockwise: clockwise,\n          cx: cx,\n          cy: cy,\n          r0: rStart,\n          r: rEnd\n        });\n      } // Render children\n\n\n      if (node.children && node.children.length) {\n        // currentAngle = startAngle;\n        var siblingAngle_1 = 0;\n        zrUtil.each(node.children, function (node) {\n          siblingAngle_1 += renderNode(node, startAngle + siblingAngle_1);\n        });\n      }\n\n      return endAngle - startAngle;\n    }; // Virtual root node for roll up\n\n\n    if (renderRollupNode) {\n      var rStart = r0;\n      var rEnd = r0 + rPerLevel;\n      var angle = Math.PI * 2;\n      virtualRoot.setLayout({\n        angle: angle,\n        startAngle: startAngle,\n        endAngle: startAngle + angle,\n        clockwise: clockwise,\n        cx: cx,\n        cy: cy,\n        r0: rStart,\n        r: rEnd\n      });\n    }\n\n    renderNode(treeRoot, startAngle);\n  });\n}\n/**\n * Init node children by order and update visual\n */\n\nfunction initChildren(node, sortOrder) {\n  var children = node.children || [];\n  node.children = sort(children, sortOrder); // Init children recursively\n\n  if (children.length) {\n    zrUtil.each(node.children, function (child) {\n      initChildren(child, sortOrder);\n    });\n  }\n}\n/**\n * Sort children nodes\n *\n * @param {TreeNode[]}               children children of node to be sorted\n * @param {string | function | null} sort sort method\n *                                   See SunburstSeries.js for details.\n */\n\n\nfunction sort(children, sortOrder) {\n  if (typeof sortOrder === 'function') {\n    var sortTargets = zrUtil.map(children, function (child, idx) {\n      var value = child.getValue();\n      return {\n        params: {\n          depth: child.depth,\n          height: child.height,\n          dataIndex: child.dataIndex,\n          getValue: function () {\n            return value;\n          }\n        },\n        index: idx\n      };\n    });\n    sortTargets.sort(function (a, b) {\n      return sortOrder(a.params, b.params);\n    });\n    return zrUtil.map(sortTargets, function (target) {\n      return children[target.index];\n    });\n  } else {\n    var isAsc_1 = sortOrder === 'asc';\n    return children.sort(function (a, b) {\n      var diff = (a.getValue() - b.getValue()) * (isAsc_1 ? 1 : -1);\n      return diff === 0 ? (a.dataIndex - b.dataIndex) * (isAsc_1 ? -1 : 1) : diff;\n    });\n  }\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport { extend } from 'zrender/lib/core/util';\nimport { lift } from 'zrender/lib/tool/color';\nexport default function sunburstVisual(ecModel) {\n  var paletteScope = {}; // Default color strategy\n\n  function pickColor(node, seriesModel, treeHeight) {\n    // Choose color from palette based on the first level.\n    var current = node;\n\n    while (current && current.depth > 1) {\n      current = current.parentNode;\n    }\n\n    var color = seriesModel.getColorFromPalette(current.name || current.dataIndex + '', paletteScope);\n\n    if (node.depth > 1 && typeof color === 'string') {\n      // Lighter on the deeper level.\n      color = lift(color, (node.depth - 1) / (treeHeight - 1) * 0.5);\n    }\n\n    return color;\n  }\n\n  ecModel.eachSeriesByType('sunburst', function (seriesModel) {\n    var data = seriesModel.getData();\n    var tree = data.tree;\n    tree.eachNode(function (node) {\n      var model = node.getModel();\n      var style = model.getModel('itemStyle').getItemStyle();\n\n      if (!style.fill) {\n        style.fill = pickColor(node, seriesModel, tree.root.height);\n      }\n\n      var existsStyle = data.ensureUniqueItemVisual(node.dataIndex, 'style');\n      extend(existsStyle, style);\n    });\n  });\n}","\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\n/**\n * AUTO-GENERATED FILE. DO NOT MODIFY.\n */\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nimport SunburstView from './SunburstView';\nimport SunburstSeriesModel from './SunburstSeries';\nimport sunburstLayout from './sunburstLayout';\nimport sunburstVisual from './sunburstVisual';\nimport dataFilter from '../../processor/dataFilter';\nimport { curry } from 'zrender/lib/core/util';\nimport { installSunburstAction } from './sunburstAction';\nexport function install(registers) {\n  registers.registerChartView(SunburstView);\n  registers.registerSeriesModel(SunburstSeriesModel);\n  registers.registerLayout(curry(sunburstLayout, 'sunburst'));\n  registers.registerProcessor(curry(dataFilter, 'sunburst'));\n  registers.registerVisual(sunburstVisual);\n  installSunburstAction(registers);\n}","<template>\r\n    <div class=\"chart\">\r\n        <h3 class=\"left\">中国奖牌旭日图<br />1984 - 2016</h3>\r\n        <div class=\"middle\">\r\n            <h3>奖牌数据中的数字</h3>\r\n            <div class=\"box\">\r\n                <h2 class=\"title\" style=\"color:#9d00ff;\">2008 年</h2>\r\n                <div class=\"description\">2008 年北京奥运会期间，中国获得的奖牌总数和金牌数均达到历届的顶峰</div>\r\n            </div>\r\n            <div class=\"box\">\r\n                <h2 class=\"title\" style=\"color:#040892\">\r\n                    <span style=\"color:gold\">227</span> + <span style=\"color:#959595\">162</span> + <span style=\"color:#cc6161\">153</span> = <span style=\"color:#ff7878;\">542</span>\r\n                </h2>\r\n                <div class=\"description\">在 1984 年至 2016 年间，我国共获得 227 枚金牌, 162 枚银牌，153 枚铜牌，总奖牌数为 542枚。</div>\r\n            </div>\r\n            <div class=\"box\">\r\n                <h2 class=\"title\" style=\"display:flex;width:100%;justify-content: space-around;\">\r\n                    <span style=\"color:gold\">22.2 枚</span> <span style=\"color:#959595\">18 枚</span> <span style=\"color:#cc6161\">17 枚</span>\r\n                </h2>\r\n                <div class=\"description\">在 1984 年至 2016 年间，我国平均每一届奥运会获得约 22.2 枚金牌, 18 枚银牌,17 枚铜牌</div>\r\n            </div>\r\n        </div>\r\n        <div ref=\"sunchart\" class=\"echarts\" style=\"width:800px;height:600px\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { animate } from \"@/function/animate.js\";\r\n    import * as echarts from \"echarts/core\";\r\n    import { TitleComponent, ToolboxComponent, TooltipComponent, GridComponent, LegendComponent } from \"echarts/components\";\r\n    import { SunburstChart } from \"echarts/charts\";\r\n    import { SVGRenderer } from \"echarts/renderers\";\r\n    export default {\r\n        props: [\"Dataset\", \"Season\"],\r\n        async mounted() {\r\n            echarts.use([TitleComponent, ToolboxComponent, TooltipComponent, GridComponent, LegendComponent, SunburstChart, SVGRenderer]);\r\n\r\n            this.myChart = echarts.init(this.$refs.sunchart);\r\n            let data = await fetch(\"./summer中国奖牌.json\", { cache: \"force-cache\" }).then((res) => res.json());\r\n\r\n            data = Object.values(data);\r\n            const Year = [...new Set(data.map((i) => i.Year))].sort((a, b) => a - b);\r\n\r\n            this.option.series = {\r\n                type: \"sunburst\",\r\n                emphasis: {\r\n                    focus: \"ancestor\",\r\n                },\r\n                position: \"center\",\r\n\r\n                data: Year.map((year, index) => {\r\n                    return {\r\n                        name: year + \"\",\r\n                        children: data\r\n                            .filter((i) => year == i.Year)\r\n                            .map((i) => {\r\n                                let name = \"\";\r\n                                switch (i.Medal) {\r\n                                    case \"Gold\":\r\n                                        name = \"金牌\";\r\n                                        break;\r\n                                    case \"Silver\":\r\n                                        name = \"银牌\";\r\n                                        break;\r\n                                    case \"Bronze\":\r\n                                        name = \"铜牌\";\r\n                                        break;\r\n                                }\r\n                                return {\r\n                                    name: name + \"-\" + i.count,\r\n                                    value: i.count,\r\n\r\n                                    itemStyle: { color: i.Medal == \"Bronze\" ? \"#b87333\" : i.Medal },\r\n                                    label: { color: i.Medal == \"Bronze\" ? \"#b87333\" : i.Medal },\r\n                                };\r\n                            })\r\n                            .sort((a, b) => a.index - b.index),\r\n                        label: { color: \"#fff\" },\r\n                    };\r\n                }),\r\n                radius: [100, \"90%\"],\r\n                itemStyle: {\r\n                    borderRadius: 15,\r\n                    borderWidth: 5,\r\n                },\r\n                label: { normal: { textStyle: { fontSize: 18 } } },\r\n                sort: null,\r\n                levels: [\r\n                    {},\r\n                    {},\r\n                    {\r\n                        r0: \"67%\",\r\n                        r: \"74%\",\r\n                        label: {\r\n                            position: \"outside\",\r\n                            padding: 3,\r\n                            silent: false,\r\n                        },\r\n                        itemStyle: {\r\n                            borderWidth: 3,\r\n                            color: \"#000\",\r\n                        },\r\n                    },\r\n                ],\r\n            };\r\n            this.myChart.setOption(this.option);\r\n            let odiv, outer;\r\n            this.myChart.on(\"finished\", () => {\r\n                if (!this.myChart.$rendered) {\r\n                    outer = document.createElementNS(\"http://www.w3.org/2000/svg\", \"foreignObject\");\r\n                    odiv = document.createElement(\"b\");\r\n                    outer.appendChild(odiv);\r\n                    this.myChart._dom.querySelector(\"svg\").appendChild(outer);\r\n                    odiv.setAttribute(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\r\n\r\n                    outer.setAttribute(\"xml:space\", \"preserve\");\r\n                    outer.setAttribute(\"fill\", \"#464646\");\r\n                    outer.setAttribute(\"fill-opacity\", \"1\");\r\n                    outer.setAttribute(\"stroke\", \"none\");\r\n\r\n                    outer.setAttribute(\"dominant-baseline\", \"central\");\r\n                    outer.setAttribute(\"text-anchor\", \"middle\");\r\n                    let { width, height } = this.myChart._dom.querySelector(\"svg\").getBBox();\r\n                    outer.setAttribute(\"x\", width / 2 - 100);\r\n\r\n                    outer.setAttribute(\"y\", height / 2 - 30);\r\n                    outer.setAttribute(\"width\", 200);\r\n                    outer.setAttribute(\"height\", 80);\r\n                    outer.setAttribute(\"style\", 'font: bold 22px \"Microsoft YaHei\";dominant-baseline: middle;');\r\n                    odiv.innerHTML = \"中国奖牌旭日图<br/>点击年份查看\";\r\n                    this.myChart.$rendered = true;\r\n                }\r\n            });\r\n\r\n            this.myChart.on(\"click\", (event) => {\r\n                odiv.innerHTML = event.name ? event.name + \"年 中国奖牌数<br/>点击内圈返回\" : \"中国奖牌旭日图<br/>点击年份查看\";\r\n                animate(odiv, \"fadeIn\");\r\n            });\r\n        },\r\n        data() {\r\n            return {\r\n                myChart: {},\r\n                rendered: false,\r\n                option: {\r\n                    label: {\r\n                        color: \"#000\",\r\n                    },\r\n                    tooltip: {\r\n                        trigger: \"axis\",\r\n                    },\r\n                    legend: {},\r\n                    grid: {\r\n                        left: \"3%\",\r\n                        right: \"4%\",\r\n                        bottom: \"3%\",\r\n                        containLabel: true,\r\n                    },\r\n\r\n                    series: [],\r\n                },\r\n            };\r\n        },\r\n    };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n    .chart {\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n    .left {\r\n        min-width: 10em;\r\n    }\r\n    .middle {\r\n    }\r\n    .box {\r\n        border-radius: 20px;\r\n        background-color: #fafafa;\r\n        margin: 20px;\r\n        padding: 5px 40px 20px 40px;\r\n        user-select: none;\r\n    }\r\n    .description {\r\n        color: #9a9ca0;\r\n    }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./中国奖牌旭日图.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./中国奖牌旭日图.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./中国奖牌旭日图.vue?vue&type=template&id=cf41b9de&scoped=true&\"\nimport script from \"./中国奖牌旭日图.vue?vue&type=script&lang=js&\"\nexport * from \"./中国奖牌旭日图.vue?vue&type=script&lang=js&\"\nimport style0 from \"./中国奖牌旭日图.vue?vue&type=style&index=0&id=cf41b9de&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"cf41b9de\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./中国奖牌旭日图.vue?vue&type=style&index=0&id=cf41b9de&lang=less&scoped=true&\""],"sourceRoot":""}