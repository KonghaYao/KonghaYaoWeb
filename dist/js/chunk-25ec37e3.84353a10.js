(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-25ec37e3"],{"13d5":function(e,t,a){"use strict";var n=a("23e7"),i=a("d58f").left,r=a("a640"),o=a("2d00"),l=a("605d"),s=r("reduce"),c=!l&&o>79&&o<83;n({target:"Array",proto:!0,forced:!s||c},{reduce:function(e){return i(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"1dd3":function(e,t,a){},"31ae":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart"},[a("div",{ref:"sunchart",staticClass:"echarts",staticStyle:{width:"800px",height:"500px"}})])},i=[],r=a("3835"),o=a("1da1"),l=(a("96cf"),a("d3b7"),a("07ac"),a("13d5"),a("4fad"),a("d81d"),a("22b4")),s=a("1be7"),c=a("9394"),u=a("ff32"),g=a("2da7"),d=a("f3bb"),h=a("3842"),f=a("f934"),p=a("6d8b"),b=2*Math.PI,m=Math.PI/180;function v(e,t){return f["d"](e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function y(e,t,a){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),i=v(e,a),r=e.get("center"),o=e.get("radius");p["r"](o)||(o=[0,o]),p["r"](r)||(r=[r,r]);var l=Object(h["n"])(i.width,a.getWidth()),s=Object(h["n"])(i.height,a.getHeight()),c=Math.min(l,s),u=Object(h["n"])(r[0],l)+i.x,g=Object(h["n"])(r[1],s)+i.y,d=Object(h["n"])(o[0],c/2),f=Object(h["n"])(o[1],c/2),y=-e.get("startAngle")*m,x=e.get("minAngle")*m,O=0;t.each(n,(function(e){!isNaN(e)&&O++}));var w=t.getSum(n),j=Math.PI/(w||O)*2,A=e.get("clockwise"),M=e.get("roseType"),L=e.get("stillShowZeroSum"),S=t.getDataExtent(n);S[0]=0;var D=b,T=0,N=y,I=A?1:-1;if(t.setLayout({viewRect:i,r:f}),t.each(n,(function(e,a){var n;if(isNaN(e))t.setItemLayout(a,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:u,cy:g,r0:d,r:M?NaN:f});else{n="area"!==M?0===w&&L?j:e*j:b/O,n<x?(n=x,D-=x):T+=e;var i=N+I*n;t.setItemLayout(a,{angle:n,startAngle:N,endAngle:i,clockwise:A,cx:u,cy:g,r0:d,r:M?Object(h["j"])(e,S,[d,f]):f}),N=i}})),D<b&&O)if(D<=.001){var P=b/O;t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a);n.angle=P,n.startAngle=y+I*a*P,n.endAngle=y+I*(a+1)*P}}))}else j=D/T,N=y,t.each(n,(function(e,a){if(!isNaN(e)){var n=t.getItemLayout(a),i=n.angle===x?x:e*j;n.startAngle=N,n.endAngle=N+I*i,N+=I*i}}))}))}var x=a("d3f4"),O=a("7fae"),w=a("d498"),j=a("76a5"),A=a("2306"),M=a("4aa2"),L=a("2dc5"),S=a("7d6c"),D=a("e887"),T=a("dce8"),N=a("89b6"),I=a("2355"),P=Math.PI/180;function _(e,t,a,n,i,r,o,l,s,c){if(!(e.length<2)){for(var u=e.length,g=0;g<u;g++)if("outer"===e[g].position&&"labelLine"===e[g].labelAlignTo){var d=e[g].label.x-c;e[g].linePoints[1][0]+=d,e[g].label.x=c}Object(I["d"])(e,s,s+o)&&f(e)}function h(e){for(var r=e.rB,o=r*r,l=0;l<e.list.length;l++){var s=e.list[l],c=Math.abs(s.label.y-a),u=n+s.len,g=u*u,d=Math.sqrt((1-Math.abs(c*c/o))*g);s.label.x=t+(d+s.len2)*i}}function f(e){for(var r={list:[],maxY:0},o={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],c=s.label.y>a?o:r,u=Math.abs(s.label.y-a);if(u>c.maxY){var g=s.label.x-t-s.len2*i,d=n+s.len,f=Math.abs(g)<d?Math.sqrt(u*u/(1-g*g/d/d)):d;c.rB=f,c.maxY=u}c.list.push(s)}h(r),h(o)}}function C(e,t,a,n,i,r,o,l){for(var s=[],c=[],u=Number.MAX_VALUE,g=-Number.MAX_VALUE,d=0;d<e.length;d++){var h=e[d].label;E(e[d])||(h.x<t?(u=Math.min(u,h.x),s.push(e[d])):(g=Math.max(g,h.x),c.push(e[d])))}_(c,t,a,n,1,i,r,o,l,g),_(s,t,a,n,-1,i,r,o,l,u);for(d=0;d<e.length;d++){var f=e[d];h=f.label;if(!E(f)){var p=f.linePoints;if(p){var b="edge"===f.labelAlignTo,m=f.rect.width,v=void 0;v=b?h.x<t?p[2][0]-f.labelDistance-o-f.edgeDistance:o+i-f.edgeDistance-p[2][0]-f.labelDistance:h.x<t?h.x-o-f.bleedMargin:o+i-h.x-f.bleedMargin,v<f.rect.width&&(f.label.style.width=v,"edge"===f.labelAlignTo&&(m=v));var y=p[1][0]-p[2][0];b?h.x<t?p[2][0]=o+f.edgeDistance+m+f.labelDistance:p[2][0]=o+i-f.edgeDistance-m-f.labelDistance:(h.x<t?p[2][0]=h.x+f.labelDistance:p[2][0]=h.x-f.labelDistance,p[1][0]=p[2][0]+y),p[1][1]=p[2][1]=h.y}}}}function E(e){return"center"===e.position}function k(e){var t,a,n=e.getData(),i=[],r=!1,o=(e.get("minShowLabelAngle")||0)*P,l=n.getLayout("viewRect"),s=n.getLayout("r"),c=l.width,u=l.x,g=l.y,d=l.height;function f(e){e.ignore=!0}function b(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}n.each((function(e){var l=n.getItemGraphicEl(e),g=l.shape,d=l.getTextContent(),m=l.getTextGuideLine(),v=n.getItemModel(e),y=v.getModel("label"),x=y.get("position")||v.get(["emphasis","label","position"]),O=y.get("distanceToLabelLine"),w=y.get("alignTo"),j=Object(h["n"])(y.get("edgeDistance"),c),A=y.get("bleedMargin"),M=v.getModel("labelLine"),L=M.get("length");L=Object(h["n"])(L,c);var S=M.get("length2");if(S=Object(h["n"])(S,c),Math.abs(g.endAngle-g.startAngle)<o)return Object(p["j"])(d.states,f),void(d.ignore=!0);if(b(d)){var D,N,I,P,_=(g.startAngle+g.endAngle)/2,C=Math.cos(_),E=Math.sin(_);t=g.cx,a=g.cy;var k,R="inside"===x||"inner"===x;if("center"===x)D=g.cx,N=g.cy,P="center";else{var G=(R?(g.r+g.r0)/2*C:g.r*C)+t,V=(R?(g.r+g.r0)/2*E:g.r*E)+a;if(D=G+3*C,N=V+3*E,!R){var z=G+C*(L+s-g.r),W=V+E*(L+s-g.r),U=z+(C<0?-1:1)*S,Y=W;D="edge"===w?C<0?u+j:u+c-j:U+(C<0?-O:O),N=Y,I=[[G,V],[z,W],[U,Y]]}P=R?"center":"edge"===w?C>0?"right":"left":C>0?"left":"right"}var B=y.get("rotate");if(k="number"===typeof B?B*(Math.PI/180):B?C<0?-_+Math.PI:-_:0,r=!!k,d.x=D,d.y=N,d.rotation=k,d.setStyle({verticalAlign:"middle"}),R){d.setStyle({align:P});var q=d.states.select;q&&(q.x+=d.x,q.y+=d.y)}else{var F=d.getBoundingRect().clone();F.applyTransform(d.getComputedTransform());var H=(d.style.margin||0)+2.1;F.y-=H/2,F.height+=H,i.push({label:d,labelLine:m,position:x,len:L,len2:S,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new T["a"](C,E),linePoints:I,textAlign:P,labelDistance:O,labelAlignTo:w,edgeDistance:j,bleedMargin:A,rect:F})}l.setTextConfig({inside:R})}})),!r&&e.get("avoidLabelOverlap")&&C(i,t,a,s,c,d,u,g);for(var m=0;m<i.length;m++){var v=i[m],y=v.label,x=v.labelLine,O=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:v.textAlign}),O&&(Object(p["j"])(y.states,f),y.ignore=!0);var w=y.states.select;w&&(w.x+=y.x,w.y+=y.y)}if(x){var j=v.linePoints;O||!j?(Object(p["j"])(x.states,f),x.ignore=!0):(Object(N["c"])(j,v.minTurnAngle),Object(N["b"])(j,v.surfaceNormal,v.maxSurfaceAngle),x.setShape({points:j}),y.__hostTarget.textGuideLineConfig={anchor:new T["a"](j[0][0],j[0][1])})}}}var R=a("7837"),G=a("d32f"),V=function(e){function t(t,a,n){var i=e.call(this)||this;i.z2=2;var r=new w["a"],o=new j["a"];return i.setTextGuideLine(r),i.setTextContent(o),i.updateData(t,a,n,!0),i}return Object(O["b"])(t,e),t.prototype.updateData=function(e,t,a,n){var i=this,r=e.hostModel,o=e.getItemModel(t),l=o.getModel("emphasis"),s=e.getItemLayout(t),c=Object(p["l"])(Object(G["a"])(o.getModel("itemStyle"),s)||{},s);if(n){i.setShape(c);var u=r.getShallow("animationType");"scale"===u?(i.shape.r=s.r0,A["initProps"](i,{shape:{r:s.r}},r,t)):null!=a?(i.setShape({startAngle:a,endAngle:a}),A["initProps"](i,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},r,t)):(i.shape.endAngle=s.startAngle,A["updateProps"](i,{shape:{endAngle:s.endAngle}},r,t))}else A["updateProps"](i,{shape:c},r,t);i.useStyle(e.getItemVisual(t,"style")),Object(S["z"])(i,o);var g=(s.startAngle+s.endAngle)/2,d=r.get("selectedOffset"),h=Math.cos(g)*d,f=Math.sin(g)*d,b=o.getShallow("cursor");b&&i.attr("cursor",b),this._updateLabel(r,e,t),i.ensureState("emphasis").shape=Object(O["a"])({r:s.r+(l.get("scale")&&l.get("scaleSize")||0)},Object(G["a"])(l.getModel("itemStyle"),s)),Object(p["l"])(i.ensureState("select"),{x:h,y:f,shape:Object(G["a"])(o.getModel(["select","itemStyle"]),s)}),Object(p["l"])(i.ensureState("blur"),{shape:Object(G["a"])(o.getModel(["blur","itemStyle"]),s)});var m=i.getTextGuideLine(),v=i.getTextContent();m&&Object(p["l"])(m.ensureState("select"),{x:h,y:f}),Object(p["l"])(v.ensureState("select"),{x:h,y:f}),Object(S["j"])(this,l.get("focus"),l.get("blurScope"))},t.prototype._updateLabel=function(e,t,a){var n,i=this,r=t.getItemModel(a),o=r.getModel("labelLine"),l=t.getItemVisual(a,"style"),s=l&&l.fill,c=l&&l.opacity;Object(R["f"])(i,Object(R["d"])(r),{labelFetcher:t.hostModel,labelDataIndex:a,inheritColor:s,defaultOpacity:c,defaultText:e.getFormattedLabel(a,"normal")||t.getName(a)});var u=i.getTextContent();i.setTextConfig({position:null,rotation:null}),u.attr({z2:10});var g=e.get(["label","position"]);"outside"===g||"outer"===g?Object(N["d"])(this,Object(N["a"])(r),{stroke:s,opacity:Object(p["M"])(o.get(["lineStyle","opacity"]),c,1)}):null===(n=i.getTextGuideLine())||void 0===n||n.hide()},t}(M["a"]),z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return Object(O["b"])(t,e),t.prototype.init=function(){var e=new L["a"];this._sectorGroup=e},t.prototype.render=function(e,t,a,n){var i,r=e.getData(),o=this._data,l=this.group;if(!o&&r.count()>0){for(var s=r.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<r.count();++c)s=r.getItemLayout(c);s&&(i=s.startAngle)}r.diff(o).add((function(e){var t=new V(r,e,i);r.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var a=o.getItemGraphicEl(t);a.updateData(r,e,i),a.off("click"),l.add(a),r.setItemGraphicEl(e,a)})).remove((function(t){var a=o.getItemGraphicEl(t);A["removeElementWithFadeOut"](a,e,t)})).execute(),k(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=r)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var a=t.getData(),n=a.getItemLayout(0);if(n){var i=e[0]-n.cx,r=e[1]-n.cy,o=Math.sqrt(i*i+r*r);return o<=n.r&&o>=n.r0}},t.type="pie",t}(D["a"]),W=z,U=a("b1d4"),Y=a("6179");function B(e,t,a){t=Object(p["r"])(t)&&{coordDimensions:t}||Object(p["l"])({},t);var n=e.getSource(),i=Object(U["a"])(n,t),r=new Y["a"](i,e);return r.initData(n,a),r}var q=a("e0d3"),F=a("0f99"),H=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){var t=this._getRawData();return t.indexOfName(e)>=0},e.prototype.indexOfName=function(e){var t=this._getDataWithEncodedVisual();return t.indexOfName(e)},e.prototype.getItemVisual=function(e,t){var a=this._getDataWithEncodedVisual();return a.getItemVisual(e,t)},e}(),$=H,J=a("4f85"),X=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.useColorPaletteOnData=!0,t}return Object(O["b"])(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new $(p["c"](this.getData,this),p["c"](this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return B(this,{coordDimensions:["value"],encodeDefaulter:p["h"](F["d"],this)})},t.prototype.getDataParams=function(t){var a=this.getData(),n=e.prototype.getDataParams.call(this,t),i=[];return a.each(a.mapDimension("value"),(function(e){i.push(e)})),n.percent=Object(h["c"])(i,t,a.hostModel.get("percentPrecision")),n.$vars.push("percent"),n},t.prototype._defaultLabelLine=function(e){q["e"](e,"labelLine",["show"]);var t=e.labelLine,a=e.emphasis.labelLine;t.show=t.show&&e.label.show,a.show=a.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={zlevel:0,z:2,legendHoverLink:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(J["a"]),Z=X;function K(e){e.registerChartView(W),e.registerSeriesModel(Z),Object(d["a"])("pie",e.registerAction),e.registerLayout(Object(p["h"])(y,"pie")),e.registerProcessor(Object(x["a"])("pie"))}var Q=a("97ac"),ee={props:["Year","Medal"],mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return l["a"]([c["a"],u["a"],g["a"],K,Q["a"]]),t.next=3,fetch("./每年奖牌趋势.json").then((function(e){return e.json()}));case 3:e.dataset=t.sent,e.myChart=s["b"](e.$refs.sunchart),e.reDraw();case 6:case"end":return t.stop()}}),t)})))()},data:function(){return{dataset:{},myChart:{},rendered:!1,option:{legend:{top:"5%",left:"center"},tooltip:{trigger:"item"},title:{text:"",top:"center",left:"center"},series:[]}}},methods:{sort:function(e){var t=Object.values(e),a=2*Math.floor(t.reduce((function(e,t){return e+t}),0)/t.length);return Object.entries(e).reduce((function(e,t){var n=Object(r["a"])(t,2),i=n[0],o=n[1];return o>a?e.push({name:i+"-"+o,value:o}):e[0].value+=o,e}),[{name:"其他国家",value:0}])},reDraw:function(){console.log(this.Medal);var e,t=this.dataset[this.Year][this.Medal];switch(this.Medal){case"Gold":e="金牌";break;case"Silver":e="银牌";break;case"Bronze":e="铜牌";break}this.option.title.text=this.Year+e;var a=this;this.option.series=[t].map((function(e,t){return{type:"pie",radius:["40%","70%"],itemStyle:{borderRadius:8},emphasis:{label:{show:!0,fontSize:"20",fontWeight:"bold"}},data:a.sort(e)}})),this.myChart.setOption(this.option),console.log(this.option.series)}}},te=ee,ae=(a("7b07"),a("2877")),ne=Object(ae["a"])(te,n,i,!1,null,"b309719a",null);t["default"]=ne.exports},3835:function(e,t,a){"use strict";function n(e){if(Array.isArray(e))return e}a.d(t,"a",(function(){return l}));a("a4d3"),a("e01a"),a("d3b7"),a("d28b"),a("3ca3"),a("ddb0");function i(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,i=!1,r=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done);n=!0)if(a.push(o.value),t&&a.length===t)break}catch(s){i=!0,r=s}finally{try{n||null==l["return"]||l["return"]()}finally{if(i)throw r}}return a}}var r=a("06c5");function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){return n(e)||i(e,t)||Object(r["a"])(e,t)||o()}},"4fad":function(e,t,a){var n=a("23e7"),i=a("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return i(e)}})},"7b07":function(e,t,a){"use strict";a("1dd3")},d32f:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("6d8b"),i=a("e86a");function r(e,t){var a=e.get("borderRadius");return null==a?null:(Object(n["r"])(a)||(a=[a,a]),{innerCornerRadius:Object(i["h"])(a[0],t.r0),cornerRadius:Object(i["h"])(a[1],t.r)})}},d3f4:function(e,t,a){"use strict";function n(e){return{seriesType:e,reset:function(e,t){var a=t.findComponents({mainType:"legend"});if(a&&a.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),i=0;i<a.length;i++)if(!a[i].isSelected(t))return!1;return!0}))}}}}a.d(t,"a",(function(){return n}))},d58f:function(e,t,a){var n=a("1c0b"),i=a("7b0b"),r=a("44ad"),o=a("50c4"),l=function(e){return function(t,a,l,s){n(a);var c=i(t),u=r(c),g=o(c.length),d=e?g-1:0,h=e?-1:1;if(l<2)while(1){if(d in u){s=u[d],d+=h;break}if(d+=h,e?d<0:g<=d)throw TypeError("Reduce of empty array with no initial value")}for(;e?d>=0:g>d;d+=h)d in u&&(s=a(s,u[d],d,c));return s}};e.exports={left:l(!1),right:l(!0)}}}]);
//# sourceMappingURL=chunk-25ec37e3.84353a10.js.map