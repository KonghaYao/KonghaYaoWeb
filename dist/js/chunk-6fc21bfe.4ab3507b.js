(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc21bfe"],{"0b3e":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"Box",staticClass:"Box"},[n("div",{ref:"outer",attrs:{id:"WorldMap"}}),n("div",{staticClass:"tooltips"},[n("div",{staticClass:"textBox"},[n("div",[t._v(" "+t._s(t.tooltips.届数+" "+t.season+"奥运会 ——"+t.tooltips.Year+"年"+t.tooltips.主办城市+"奥运会")+" ")]),n("div",[t._v(t._s(t.tooltips.举办时间))]),n("div",[t._v(t._s(t.tooltips.举办国家)+" "+t._s(t.tooltips.主办城市))]),n("div",[t._v(t._s(t.tooltips.口号||""))])]),n("div",{staticClass:"flex-row w-full"},[n("router-link",{staticClass:"link",attrs:{to:{path:encodeURI("/奥运风采馆/奥运会介绍/每年奖牌趋势"),query:{Season:t.tooltips.Season,Year:t.tooltips.Year,Medal:"Gold",opened:!0}}}},[t._v(" 查看图表详情 ")]),n("div",{staticClass:"flex-row"},[t._v(" 播放控制"),n("i",{class:{btn:!0,"el-icon-video-pause":!t.timeline.paused,"el-icon-video-play":t.timeline.paused},attrs:{circle:""},on:{click:t.pauseAndPlay}})])],1),n("div",{staticClass:"scale w-full"},[n("div",[t._v("时间轴")]),n("i",{staticClass:"el-icon-d-arrow-left",on:{click:function(e){return t.timeControl(t.progress-2)}}}),n("el-slider",{staticClass:"slider",attrs:{min:3,max:t.maxSize,step:3,"format-tooltip":t.formatTooltip},on:{change:t.timeControl},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}}),n("i",{staticClass:"el-icon-d-arrow-right",on:{click:function(e){return t.timeControl(t.progress+2)}}})],1),n("div",{staticClass:"scale w-full"},[n("div",[t._v("地图大小")]),n("i",{staticClass:"el-icon-zoom-out",on:{click:function(e){t.SVGScale--}}}),n("el-slider",{staticClass:"slider",staticStyle:{flex:"1"},attrs:{min:1,max:5,step:1},model:{value:t.SVGScale,callback:function(e){t.SVGScale=e},expression:"SVGScale"}}),n("i",{staticClass:"el-icon-zoom-in",on:{click:function(e){t.SVGScale++}}})],1)])])},r=[],a=n("3835"),s=n("2909"),o=n("1da1"),l=(n("96cf"),n("d3b7"),n("99af"),n("ac1f"),n("1276"),n("b0c0"),n("d81d"),n("159b"),n("ddb0"),n("1209")),c={data:function(){return{season:"夏季",maxSize:0,progress:0,allPoints:[],points:[],viewBox:[],svg:null,dataset:{},timeline:{},xLine:{},SVGScale:5,yLine:{},tooltips:{Year:1896,"届数":"第01届","赛事名称":"1896年雅典奥运会","举办国家":"希腊","主办城市":"雅典","举办时间":"1896年04月06日-1896年04月15日","口号":null,Season:"Summer",url:null,name:null,imgUrl:null,text:"1896年"}}},watch:{SVGScale:function(t){this.svg.style.transform="scale(".concat(t,")")},"timeline.paused":function(t){this.$notify({type:"success",title:t?"暂停播放动画":"开始播放动画",position:"bottom-right",duration:1e3})}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("./奥运会赛事统一数据最终添加赛事介绍.json",{cache:"force-cache"}).then((function(t){return t.json()}));case 2:return t.dataset=e.sent,e.next=5,fetch("./worldMap.svg").then((function(t){return t.text()}));case 5:t.$refs.outer.innerHTML=e.sent,n=[].concat(Object(s["a"])(t.$refs.outer.querySelectorAll("[data-name$=summer]")),Object(s["a"])(t.$refs.outer.querySelectorAll("[data-name$=winter]"))).sort((function(t,e){return t.dataset.name.split("-")[0]-e.dataset.name.split("-")[0]})),i=n.map((function(t){var e=t.dataset.name.split("-"),n=Object(a["a"])(e,2),i=n[0],r=n[1];return t.style.opacity=0,{year:i,season:r}})),t.maxSize=3*(n.length-1),t.xLine=t.$refs.outer.querySelector("line#x"),t.yLine=t.$refs.outer.querySelector("line#y"),t.points=i,t.allPoints=n,t.svg=t.$refs.outer.children[0],t.text=document.createElementNS("http://www.w3.org/2000/svg","text"),t.text.classList.add("Text"),t.svg.appendChild(t.text),t.text2=document.createElementNS("http://www.w3.org/2000/svg","text"),t.text2.classList.add("Text2"),t.svg.appendChild(t.text2),t.viewBox=t.svg.getAttribute("viewBox").split(" "),t.timelineSetting();case 22:case"end":return e.stop()}}),e)})))()},methods:{timelineSetting:function(){var t=this,e=this;this.timeline=l["a"].timeline(),this.timeline.pause(),this.allPoints.forEach((function(n,i){t.timeline.add({targets:n,scale:[1,2,1],opacity:.7,duration:3e3,begin:function(t){var n=t.animatables[0].target.getBBox(),r=n.x,s=n.y,o=n.width,c=n.height,u=Object(a["a"])(e.viewBox,4),f=u[2],d=u[3],p=r+o/2,v=s+c/2;if(parseInt(100*p/f)){var x=100*p/f,h=100*v/d;e.svg.style.transformOrigin="".concat(x,"% ").concat(h,"% "),Object(l["a"])({targets:e.yLine,y1:v,y2:v,duation:500}),Object(l["a"])({targets:e.xLine,x1:p,x2:p,duation:500}),e.dataset.some((function(n){var i=t.animatables[0].target.dataset.name.split("-"),o=Object(a["a"])(i,2),l=o[0],c=o[1];return e.season="winter"==c?"冬季":"夏季",n.Year==l&&n.Season.toLowerCase()===c&&(e.tooltips=n,e.textAlert(e.text,"".concat(n.Year,"年").concat(n.主办城市).concat(e.season,"奥运会"),[r,s]),e.textAlert(e.text2,"".concat(n.举办国家," ").concat(n.主办城市),[r,s]),!0)}))}e.progress=3*(i+1)}})}))},textAlert:function(t,e,n){t.innerHTML=e,t.setAttribute("x",n[0]),t.setAttribute("y",n[1])},pauseAndPlay:function(){this.timeline[this.timeline.paused?"play":"pause"]()},formatTooltip:function(t){if(t)return this.points[t/3-1].year+("summer"==this.points[t/3-1].season?"夏":"冬")},timeControl:function(t){this.timeline.restart(),this.timeline.pause();var e=1e3*(t-1)-1e3,n=this;Object(s["a"])(Array(10).keys()).forEach((function(t,i){setTimeout((function(){n.timeline.seek(e+100*t)}),100*i)}))}}},u=c,f=(n("dfbb"),n("539f"),n("2877")),d=Object(f["a"])(u,i,r,!1,null,"4afb37d2",null);e["default"]=d.exports},1276:function(t,e,n){"use strict";var i=n("d784"),r=n("44e7"),a=n("825a"),s=n("1d80"),o=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),f=n("9263"),d=n("9f7f"),p=d.UNSUPPORTED_Y,v=[].push,x=Math.min,h=4294967295;i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(s(this)),a=void 0===n?h:n>>>0;if(0===a)return[];if(void 0===t)return[i];if(!r(t))return e.call(i,t,a);var o,l,c,u=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,x=new RegExp(t.source,d+"g");while(o=f.call(x,i)){if(l=x.lastIndex,l>p&&(u.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&v.apply(u,o.slice(1)),c=o[0].length,p=l,u.length>=a))break;x.lastIndex===o.index&&x.lastIndex++}return p===i.length?!c&&x.test("")||u.push(""):u.push(i.slice(p)),u.length>a?u.slice(0,a):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=s(this),a=void 0==e?void 0:e[t];return void 0!==a?a.call(e,r,n):i.call(String(r),e,n)},function(t,r){var s=n(i,t,this,r,i!==e);if(s.done)return s.value;var f=a(t),d=String(this),v=o(f,RegExp),g=f.unicode,m=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(p?"g":"y"),b=new v(p?"^(?:"+f.source+")":f,m),y=void 0===r?h:r>>>0;if(0===y)return[];if(0===d.length)return null===u(b,d)?[d]:[];var S=0,w=0,E=[];while(w<d.length){b.lastIndex=p?0:w;var C,R=u(b,p?d.slice(w):d);if(null===R||(C=x(c(b.lastIndex+(p?w:0)),d.length))===S)w=l(d,w,g);else{if(E.push(d.slice(S,w)),E.length===y)return E;for(var _=1;_<=R.length-1;_++)if(E.push(R[_]),E.length===y)return E;w=S=C}}return E.push(d.slice(S)),E}]}),p)},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var a=n.call(t,e);if("object"!==typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},3835:function(t,e,n){"use strict";function i(t){if(Array.isArray(t))return t}n.d(e,"a",(function(){return o}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0");function r(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)if(n.push(s.value),e&&n.length===e)break}catch(l){r=!0,a=l}finally{try{i||null==o["return"]||o["return"]()}finally{if(r)throw a}}return n}}var a=n("06c5");function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){return i(t)||r(t,e)||Object(a["a"])(t,e)||s()}},"44e7":function(t,e,n){var i=n("861d"),r=n("c6b6"),a=n("b622"),s=a("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==r(t))}},"539f":function(t,e,n){"use strict";n("6beb")},"6beb":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),r=n("9f7f"),a=n("5692"),s=RegExp.prototype.exec,o=a("native-string-replace",String.prototype.replace),l=s,c=function(){var t=/a/,e=/b*/g;return s.call(t,"a"),s.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,f=void 0!==/()??/.exec("")[1],d=c||f||u;d&&(l=function(t){var e,n,r,a,l=this,d=u&&l.sticky,p=i.call(l),v=l.source,x=0,h=t;return d&&(p=p.replace("y",""),-1===p.indexOf("g")&&(p+="g"),h=String(t).slice(l.lastIndex),l.lastIndex>0&&(!l.multiline||l.multiline&&"\n"!==t[l.lastIndex-1])&&(v="(?: "+v+")",h=" "+h,x++),n=new RegExp("^(?:"+v+")",p)),f&&(n=new RegExp("^"+v+"$(?!\\s)",p)),c&&(e=l.lastIndex),r=s.call(d?n:l,h),d?r?(r.input=r.input.slice(x),r[0]=r[0].slice(x),r.index=l.lastIndex,l.lastIndex+=r[0].length):l.lastIndex=0:c&&r&&(l.lastIndex=l.global?r.index+r[0].length:e),f&&r&&r.length>1&&o.call(r[0],n,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)})),r}),t.exports=l},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},af6c:function(t,e,n){},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),a=n("b622"),s=n("9112"),o=a("species"),l=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),c=function(){return"$0"==="a".replace(/./,"$0")}(),u=a("replace"),f=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,u){var p=a(t),v=!r((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),x=v&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[o]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!v||!x||"replace"===t&&(!l||!c||f)||"split"===t&&!d){var h=/./[p],g=n(p,""[t],(function(t,e,n,i,r){return e.exec===RegExp.prototype.exec?v&&!r?{done:!0,value:h.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:c,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:f}),m=g[0],b=g[1];i(String.prototype,t,m),i(RegExp.prototype,p,2==e?function(t,e){return b.call(t,this,e)}:function(t){return b.call(t,this)})}u&&s(RegExp.prototype[p],"sham",!0)}},dfbb:function(t,e,n){"use strict";n("af6c")}}]);